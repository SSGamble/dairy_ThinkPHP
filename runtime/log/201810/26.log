---------------------------------------------------------------
[ 2018-10-26T00:56:20+08:00 ] 74.120.168.12 180.149.130.153 GET /daily/
[ info ] qingrang.top/daily/ [运行时间：0.081461s][吞吐率：12.28req/s] [内存消耗：2,122.68kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => '',
    1 => NULL,
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.110 Safari/537.36',
  'connection' => 'Keep-Alive',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'en-US,*',
  'host' => 'qingrang.top',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Show->notelst[ /var/www/html/daily/application/admin/controller/Show.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/show/notelst.html [ array (
  0 => 'list_new',
  1 => 'groups',
  2 => 'groups0',
  3 => 'groups1',
  4 => 'groups2',
  5 => 'groupname',
  6 => 'content',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001841s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.002781s ]
[ sql ] [ SQL ] SELECT `content` FROM `note` WHERE  (  id=32 ) LIMIT 1 [ RunTime:0.001033s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` <> 'Personal'  AND `publish` = 1 LIMIT 1 [ RunTime:0.002037s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `publish` = 1 ORDER BY id desc LIMIT 0,6 [ RunTime:0.000591s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001160s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `groups` <> 'Personal' [ RunTime:0.000455s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `groups` <> 'Personal'  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000463s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1  AND `groups` <> 'Personal' [ RunTime:0.000362s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000383s ]
---------------------------------------------------------------
[ 2018-10-26T09:48:07+08:00 ] 74.120.168.12 117.136.70.15 GET /daily/admin/show/notelst.html
[ info ] qingrang.top/daily/admin/show/notelst.html [运行时间：0.088934s][吞吐率：11.24req/s] [内存消耗：2,127.85kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'show',
    2 => 'notelst',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Linux; Android 8.1.0; OE106 Build/OPM1.171019.026) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/show/notelst/groups/Algorithm.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1540396075,1540429601,1540432289,1540518800; Hm_lpvt_1769181352e9adc950166aada465644e=1540518803',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Show->notelst[ /var/www/html/daily/application/admin/controller/Show.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/show/notelst.html [ array (
  0 => 'list_new',
  1 => 'groups',
  2 => 'groups0',
  3 => 'groups1',
  4 => 'groups2',
  5 => 'groupname',
  6 => 'content',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002141s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.003974s ]
[ sql ] [ SQL ] SELECT `content` FROM `note` WHERE  (  id=32 ) LIMIT 1 [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` <> 'Personal'  AND `publish` = 1 LIMIT 1 [ RunTime:0.002917s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `publish` = 1 ORDER BY id desc LIMIT 0,6 [ RunTime:0.000668s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001018s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `groups` <> 'Personal' [ RunTime:0.000362s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `groups` <> 'Personal'  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1  AND `groups` <> 'Personal' [ RunTime:0.000304s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000501s ]
---------------------------------------------------------------
[ 2018-10-26T09:48:09+08:00 ] 74.120.168.12 117.136.70.15 GET /daily/admin/show/shownote/id/228.html
[ info ] qingrang.top/daily/admin/show/shownote/id/228.html [运行时间：0.062054s][吞吐率：16.11req/s] [内存消耗：1,942.45kb] [文件加载：54]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'show',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Linux; Android 8.1.0; OE106 Build/OPM1.171019.026) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/show/notelst.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1540396075,1540429601,1540432289,1540518800; Hm_lpvt_1769181352e9adc950166aada465644e=1540518807',
)
[ info ] [ PARAM ] array (
  'id' => '228',
)
[ info ] [ RUN ] app\admin\controller\Show->showNote[ /var/www/html/daily/application/admin/controller/Show.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/show/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000838s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001602s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 228 LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001062s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000310s ]
---------------------------------------------------------------
[ 2018-10-26T10:19:28+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.059817s][吞吐率：16.72req/s] [内存消耗：1,428.40kb] [文件加载：49]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ VIEW ] /var/www/html/daily/thinkphp/tpl/dispatch_jump.tpl [ array (
  0 => 'code',
  1 => 'msg',
  2 => 'data',
  3 => 'url',
  4 => 'wait',
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-10-26T10:19:30+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/login/index.html
[ info ] qingrang.top/daily/admin/login/index.html [运行时间：0.044362s][吞吐率：22.54req/s] [内存消耗：1,340.77kb] [文件加载：47]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Login->index[ /var/www/html/daily/application/admin/controller/Login.php ]
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/login/index.html [ array (
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-10-26T10:19:43+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/login/index.html
[ info ] qingrang.top/daily/admin/login/index.html [运行时间：0.064466s][吞吐率：15.51req/s] [内存消耗：1,922.37kb] [文件加载：54]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '8',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/login/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'pwd' => 'shao',
)
[ info ] [ RUN ] app\admin\controller\Login->index[ /var/www/html/daily/application/admin/controller/Login.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000696s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001446s ]
[ sql ] [ SQL ] SELECT * FROM `admin` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000493s ]
---------------------------------------------------------------
[ 2018-10-26T10:19:43+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.092994s][吞吐率：10.75req/s] [内存消耗：2,209.70kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/login/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000760s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.002065s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.002294s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000489s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000967s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000322s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000574s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000293s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000429s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000440s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001773s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000265s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001265s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000696s ]
---------------------------------------------------------------
[ 2018-10-26T10:20:46+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/228.html
[ info ] qingrang.top/daily/admin/note/shownote/id/228.html [运行时间：0.062423s][吞吐率：16.02req/s] [内存消耗：1,984.31kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '228',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000689s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001466s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 228 LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001094s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000353s ]
---------------------------------------------------------------
[ 2018-10-26T10:23:19+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editnote/id/208.html
[ info ] qingrang.top/daily/admin/note/editnote/id/208.html [运行时间：0.068661s][吞吐率：14.56req/s] [内存消耗：2,030.53kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '208',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000923s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.002326s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 208 LIMIT 1 [ RunTime:0.000575s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001315s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000455s ]
---------------------------------------------------------------
[ 2018-10-26T10:28:09+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/updatenote/id/208.html
[ info ] qingrang.top/daily/admin/note/updatenote/id/208.html [运行时间：0.081223s][吞吐率：12.31req/s] [内存消耗：2,069.98kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'updatenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '6654',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/208.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'summary' => '',
  'content' => '# Code 自定义快捷键
[TOC]
## 常用
### 删除行 `Ctrl + d`
### 向下复制行 `Ctrl + b`
### 移动行 `Alt + Up/Down`
### 上开新行 `Ctrl + shift + enter`
### 下开新行 `Ctrl + enter`
### 行注释 `Ctrl + /`
### 块注释 `Ctrl + Shift + /`
### 提示 `alt + /`
### 添加 getter、setter 方法 `alt + insert`
### 替换文本 `Ctrl + R`
### 自动排版 `ctrl + alt + l`

## Eclipse
### 批量修改 ALT+SHIFT+R
### 快速输入
- 主方法
1. 敲入main
2. alt+/
- System.out.println
1. 敲入syso
2. alt+/
- 快速输入for
1. 敲入for
2. alt+/
### 代码格式化 ctrl+shift+f
### import类 ctrl+shift+o
### 快速注释 选中一行或者多行代码 ctrl+shift+c
### 快速解决办法提示 ctrl+1
在出错误的行，使用ctrl+1。 比如忘记导入类了，就可以用这个解决
### 方法的快速生成 shift+alt+s

---

## Sublime Text 3
### 键盘快捷键
https://blog.csdn.net/u010994304/article/details/50866634

// Ctrl+Enter
// 插入行后

// Ctrl+Shift Enter
// 插入行前

// Shift+Tab
// 去除缩进

// Tab
// 缩进

// Ctrl+KK
// 从光标处删除至行尾
```
[
	// 删除当前行
	{ "keys": ["ctrl+d"], "command":"run_macro_file", "args": {"file":"Packages/Default/Delete Line.sublime-macro"} },
	
	// 与上行互换
	{ "keys": ["alt+up"], "command":"swap_line_up" },
	// 与下行互换
	{ "keys": ["alt+down"], "command":"swap_line_down" },

	// 向下复制行
	{ "keys": ["ctrl+alt+down"], "command":"duplicate_line" },
	
	// 自动提示、补全
	{ "keys": ["alt+/"], "command":"auto_complete" },
	{ "keys": ["alt+/"], "command":"replace_completion_with_auto_complete", "context":
	[
	{ "key": "last_command", "operator":"equal", "operand": "insert_best_completion" },
	{ "key": "auto_complete_visible", "operator":"equal", "operand": false },
	{ "key": "setting.tab_completion", "operator":"equal", "operand": true }
	]
	},

	//移动光标到行首或行末
	{ "keys": ["alt+b"], "command":"move_to", "args": {"to": "bol","extend": false} },
	{ "keys": ["alt+e"], "command":"move_to", "args": {"to": "eol","extend": false} },
	//移动光标到行首或行末并选择内容
	{ "keys": ["shift+alt+b"], "command":"move_to", "args": {"to": "bol","extend": true} },
	{ "keys": ["shift+alt+e"], "command":"move_to", "args": {"to": "eol","extend": true} },

]
```
### 配置 ctrl + 鼠标左键 进行函数跳转
点击 Preferences->Browse Packages 进入 Packages 目录，然后打开 User 目录，查看User目录里面有没有`Default (Windows).sublime-mousemap`文件，如果没有则创建一个。这个文件是用来配置 sublime 的鼠标操作的。在文件中输入如下内容：
```
[
{
"button": "button2",
"count": 1,
"modifiers": ["ctrl"],
"command": "jump_back"
},


{
"button": "button1",
"count": 1,
"modifiers": ["ctrl"],
"press_command": "drag_select",
"command": "goto_definition"
}
]
```
点击保存即可。

ctrl+鼠标左键跳转到函数定义处；

ctrl+鼠标右键跳回来。
',
  'groups' => 'Basics',
  'showsel' => '1',
  'showse2' => '1',
  'id' => '208',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->updateNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000628s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001442s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 208 LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SELECT `groups` FROM `note` WHERE  `id` = 208 LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000947s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Basics' LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ SQL ] UPDATE `note`  SET `id`=208,`p_id`=2,`title`='Code 自定义快捷键\r',`content`='# Code 自定义快捷键\r\n[TOC]\r\n## 常用\r\n### 删除行 `Ctrl + d`\r\n### 向下复制行 `Ctrl + b`\r\n### 移动行 `Alt + Up/Down`\r\n### 上开新行 `Ctrl + shift + enter`\r\n### 下开新行 `Ctrl + enter`\r\n### 行注释 `Ctrl + /`\r\n### 块注释 `Ctrl + Shift + /`\r\n### 提示 `alt + /`\r\n### 添加 getter、setter 方法 `alt + insert`\r\n### 替换文本 `Ctrl + R`\r\n### 自动排版 `ctrl + alt + l`\r\n\r\n## Eclipse\r\n### 批量修改 ALT+SHIFT+R\r\n### 快速输入\r\n- 主方法\r\n1. 敲入main\r\n2. alt+/\r\n- System.out.println\r\n1. 敲入syso\r\n2. alt+/\r\n- 快速输入for\r\n1. 敲入for\r\n2. alt+/\r\n### 代码格式化 ctrl+shift+f\r\n### import类 ctrl+shift+o\r\n### 快速注释 选中一行或者多行代码 ctrl+shift+c\r\n### 快速解决办法提示 ctrl+1\r\n在出错误的行，使用ctrl+1。 比如忘记导入类了，就可以用这个解决\r\n### 方法的快速生成 shift+alt+s\r\n\r\n---\r\n\r\n## Sublime Text 3\r\n### 键盘快捷键\r\nhttps://blog.csdn.net/u010994304/article/details/50866634\r\n\r\n// Ctrl+Enter\r\n// 插入行后\r\n\r\n// Ctrl+Shift Enter\r\n// 插入行前\r\n\r\n// Shift+Tab\r\n// 去除缩进\r\n\r\n// Tab\r\n// 缩进\r\n\r\n// Ctrl+KK\r\n// 从光标处删除至行尾\r\n```\r\n[\r\n	// 删除当前行\r\n	{ \"keys\": [\"ctrl+d\"], \"command\":\"run_macro_file\", \"args\": {\"file\":\"Packages/Default/Delete Line.sublime-macro\"} },\r\n	\r\n	// 与上行互换\r\n	{ \"keys\": [\"alt+up\"], \"command\":\"swap_line_up\" },\r\n	// 与下行互换\r\n	{ \"keys\": [\"alt+down\"], \"command\":\"swap_line_down\" },\r\n\r\n	// 向下复制行\r\n	{ \"keys\": [\"ctrl+alt+down\"], \"command\":\"duplicate_line\" },\r\n	\r\n	// 自动提示、补全\r\n	{ \"keys\": [\"alt+/\"], \"command\":\"auto_complete\" },\r\n	{ \"keys\": [\"alt+/\"], \"command\":\"replace_completion_with_auto_complete\", \"context\":\r\n	[\r\n	{ \"key\": \"last_command\", \"operator\":\"equal\", \"operand\": \"insert_best_completion\" },\r\n	{ \"key\": \"auto_complete_visible\", \"operator\":\"equal\", \"operand\": false },\r\n	{ \"key\": \"setting.tab_completion\", \"operator\":\"equal\", \"operand\": true }\r\n	]\r\n	},\r\n\r\n	//移动光标到行首或行末\r\n	{ \"keys\": [\"alt+b\"], \"command\":\"move_to\", \"args\": {\"to\": \"bol\",\"extend\": false} },\r\n	{ \"keys\": [\"alt+e\"], \"command\":\"move_to\", \"args\": {\"to\": \"eol\",\"extend\": false} },\r\n	//移动光标到行首或行末并选择内容\r\n	{ \"keys\": [\"shift+alt+b\"], \"command\":\"move_to\", \"args\": {\"to\": \"bol\",\"extend\": true} },\r\n	{ \"keys\": [\"shift+alt+e\"], \"command\":\"move_to\", \"args\": {\"to\": \"eol\",\"extend\": true} },\r\n\r\n]\r\n```\r\n### 配置 ctrl + 鼠标左键 进行函数跳转\r\n点击 Preferences->Browse Packages 进入 Packages 目录，然后打开 User 目录，查看User目录里面有没有`Default (Windows).sublime-mousemap`文件，如果没有则创建一个。这个文件是用来配置 sublime 的鼠标操作的。在文件中输入如下内容：\r\n```\r\n[\r\n{\r\n\"button\": \"button2\",\r\n\"count\": 1,\r\n\"modifiers\": [\"ctrl\"],\r\n\"command\": \"jump_back\"\r\n},\r\n\r\n\r\n{\r\n\"button\": \"button1\",\r\n\"count\": 1,\r\n\"modifiers\": [\"ctrl\"],\r\n\"press_command\": \"drag_select\",\r\n\"command\": \"goto_definition\"\r\n}\r\n]\r\n```\r\n点击保存即可。\r\n\r\nctrl+鼠标左键跳转到函数定义处；\r\n\r\nctrl+鼠标右键跳回来。\r\n',`groups`='Basics',`is_show`=1,`publish`=1,`summary`=''  WHERE  `id` = 208 [ RunTime:0.000745s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Basics' LIMIT 1 [ RunTime:0.001096s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=18  WHERE  `groups` = 'Basics' [ RunTime:0.000336s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Basics' LIMIT 1 [ RunTime:0.001041s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=18  WHERE  `groups` = 'Basics' [ RunTime:0.000362s ]
---------------------------------------------------------------
[ 2018-10-26T10:28:09+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/208.html
[ info ] qingrang.top/daily/admin/note/shownote/id/208.html [运行时间：0.051909s][吞吐率：19.26req/s] [内存消耗：1,982.83kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/208.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '208',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000603s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001212s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 208 LIMIT 1 [ RunTime:0.000486s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000798s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000280s ]
---------------------------------------------------------------
[ 2018-10-26T10:28:27+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/208.html
[ info ] qingrang.top/daily/admin/note/shownote/id/208.html [运行时间：0.057997s][吞吐率：17.24req/s] [内存消耗：1,982.83kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/208.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '208',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000682s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001574s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 208 LIMIT 1 [ RunTime:0.000483s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000913s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000312s ]
---------------------------------------------------------------
[ 2018-10-26T10:29:53+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/ashownote2.html
[ info ] qingrang.top/daily/admin/note/ashownote2.html [运行时间：0.052971s][吞吐率：18.88req/s] [内存消耗：2,153.25kb] [文件加载：52]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'ashownote2',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '19',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://qingrang.top',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'groupname' => 'Algorithm',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->aShowNote2[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000473s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001373s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` = 'Algorithm' ORDER BY date desc [ RunTime:0.001301s ]
---------------------------------------------------------------
[ 2018-10-26T10:29:56+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editNote/id/210
[ info ] qingrang.top/daily/admin/note/editNote/id/210 [运行时间：0.056067s][吞吐率：17.84req/s] [内存消耗：2,053.50kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editNote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001363s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000721s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001580s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000348s ]
---------------------------------------------------------------
[ 2018-10-26T10:52:18+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.110201s][吞吐率：9.07req/s] [内存消耗：2,209.47kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001265s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001936s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.002884s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000819s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001501s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000412s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000608s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001297s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000434s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000362s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.002136s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000370s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001629s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.001005s ]
---------------------------------------------------------------
[ 2018-10-26T10:56:31+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/updatenote/id/210.html
[ info ] qingrang.top/daily/admin/note/updatenote/id/210.html [运行时间：0.072786s][吞吐率：13.74req/s] [内存消耗：2,134.41kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'updatenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '30713',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editNote/id/210',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'summary' => '20 个最常用的、最基础数据结构与算法',
  'content' => '# 数据结构与算法之美
`数据结构` `算法`

[TOC]
## 一. 简介
>什么是数据结构？什么是算法？

数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。
>数据结构和算法有什么关系呢？

这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。

>数据结构和算法的知识体系 - 思维导图

![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)

>20 个最常用的、最基础数据结构与算法

10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；

10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。

## 二. 复杂度分析
### 1. 什么是复杂度分析？
数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。

常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。

![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)
### 2. 为什么要进行复杂度分析？
1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。
2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。
### 3. 如何进行复杂度分析？
#### 大 O 表示法
>示例

从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？

```
//估算一下这段代码的执行时间。
int cal(int n) {
  int sum = 0;
  int i = 1;
  for (; i <= n; ++i) {
    sum = sum + i;
  }
  return sum;
}
```

第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。

```
//估算一下这段代码的执行时间
int cal(int n) {
  int sum = 0;
  int i = 1;
  int j = 1;
  for (; i <= n; ++i) {
    j = 1;
    for (; j <= n; ++j) {
      sum = sum +  i * j;
    }
   }
 }
```

执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$

结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。

我们可以把这个规律总结成一个公式，即，大 O 表示法：

$$T(n) = O(f(n))$$

T(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。

所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。

**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。

当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。

如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。

#### 如何分析一段代码的时间复杂度？

1. 只关注循环执行次数最多的一段代码
2. 加法法则：总复杂度等于量级最大的那段代码的复杂度
3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积

#### 常见的复杂度量级

![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)

对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。

我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。

当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。

#### 常见的多项式时间复杂度

>1.O(1)

首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。
```
int i = 8;
int j = 6
int sum = i + j;
```
我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。

>2.O(logn)、O(nlogn)

```
i=1;
while (i <= n)  {
  i = i * 2;
}
```
根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。

从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：

![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)

即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。

利用换底公式得：$$x=log_2n$$。

所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。

```
//这段代码的时间复杂度是多少？
i=1;
while (i <= n)  {
  i = i * 3;
}
```
 $$O(log_3n)$$

实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？

我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。

因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。

如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。

>3.O(m+n)、O(m*n)

```
int cal(int m, int n) {
  int sum_1 = 0;
  int i = 1;
  for (; i < m; ++i) {
    sum_1 = sum_1 + i;
  }

  int sum_2 = 0;
  int j = 1;
  for (; j < n; ++j) {
    sum_2 = sum_2 + j;
  }

  return sum_1 + sum_2;
}
```
从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。

针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。

#### 空间复杂度分析

空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。

>示例

```
void print(int n) {
 int i = 0;
 int[] a = new int[n];
 for (i; i <n; ++i) {
   a[i] = i * i;
 }

 for (i = n-1; i >= 0; --i) {
   print out a[i]
 }
}
```

跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。

我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。
## 三. 最好、最坏、平均、均摊时间复杂度
```
// n 表示数组 array 的长度
int find(int[] array, int n, int x) {
  int pos = -1;
  for (int i = 0; i < n; ++i) {
    if (array[i] == x) {
       pos = i;
       break;
    }
  }
  return pos;
}
```
### 最好情况时间复杂度：O(1)

### 最坏情况时间复杂度：O(n)

### 平均情况时间复杂度：O(n)
#### 不算概率
每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)
在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n
要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。
#### 算概率(加权平均时间复杂度/期望时间复杂度)
假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)
### 均摊时间复杂度
假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)

在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',
  'groups' => 'Algorithm',
  'showsel' => '1',
  'showse2' => '1',
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->updateNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000636s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001554s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000556s ]
[ sql ] [ SQL ] SELECT `groups` FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000344s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001056s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] UPDATE `note`  SET `id`=210,`p_id`=2,`title`='数据结构与算法之美\r',`content`='# 数据结构与算法之美\r\n`数据结构` `算法`\r\n\r\n[TOC]\r\n## 一. 简介\r\n>什么是数据结构？什么是算法？\r\n\r\n数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。\r\n>数据结构和算法有什么关系呢？\r\n\r\n这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。\r\n\r\n>数据结构和算法的知识体系 - 思维导图\r\n\r\n![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)\r\n\r\n>20 个最常用的、最基础数据结构与算法\r\n\r\n10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；\r\n\r\n10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。\r\n\r\n## 二. 复杂度分析\r\n### 1. 什么是复杂度分析？\r\n数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。\r\n\r\n常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。\r\n\r\n![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)\r\n### 2. 为什么要进行复杂度分析？\r\n1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。\r\n2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。\r\n### 3. 如何进行复杂度分析？\r\n#### 大 O 表示法\r\n>示例\r\n\r\n从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？\r\n\r\n```\r\n//估算一下这段代码的执行时间。\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  for (; i <= n; ++i) {\r\n    sum = sum + i;\r\n  }\r\n  return sum;\r\n}\r\n```\r\n\r\n第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。\r\n\r\n```\r\n//估算一下这段代码的执行时间\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  int j = 1;\r\n  for (; i <= n; ++i) {\r\n    j = 1;\r\n    for (; j <= n; ++j) {\r\n      sum = sum +  i * j;\r\n    }\r\n   }\r\n }\r\n```\r\n\r\n执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$\r\n\r\n结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。\r\n\r\n我们可以把这个规律总结成一个公式，即，大 O 表示法：\r\n\r\n$$T(n) = O(f(n))$$\r\n\r\nT(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。\r\n\r\n所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。\r\n\r\n**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。\r\n\r\n当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。\r\n\r\n如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。\r\n\r\n#### 如何分析一段代码的时间复杂度？\r\n\r\n1. 只关注循环执行次数最多的一段代码\r\n2. 加法法则：总复杂度等于量级最大的那段代码的复杂度\r\n3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积\r\n\r\n#### 常见的复杂度量级\r\n\r\n![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)\r\n\r\n对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。\r\n\r\n我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。\r\n\r\n当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。\r\n\r\n#### 常见的多项式时间复杂度\r\n\r\n>1.O(1)\r\n\r\n首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。\r\n```\r\nint i = 8;\r\nint j = 6\r\nint sum = i + j;\r\n```\r\n我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。\r\n\r\n>2.O(logn)、O(nlogn)\r\n\r\n```\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 2;\r\n}\r\n```\r\n根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。\r\n\r\n从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：\r\n\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)\r\n\r\n即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。\r\n\r\n利用换底公式得：$$x=log_2n$$。\r\n\r\n所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。\r\n\r\n```\r\n//这段代码的时间复杂度是多少？\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 3;\r\n}\r\n```\r\n $$O(log_3n)$$\r\n\r\n实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？\r\n\r\n我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。\r\n\r\n因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。\r\n\r\n如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。\r\n\r\n>3.O(m+n)、O(m*n)\r\n\r\n```\r\nint cal(int m, int n) {\r\n  int sum_1 = 0;\r\n  int i = 1;\r\n  for (; i < m; ++i) {\r\n    sum_1 = sum_1 + i;\r\n  }\r\n\r\n  int sum_2 = 0;\r\n  int j = 1;\r\n  for (; j < n; ++j) {\r\n    sum_2 = sum_2 + j;\r\n  }\r\n\r\n  return sum_1 + sum_2;\r\n}\r\n```\r\n从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。\r\n\r\n针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。\r\n\r\n#### 空间复杂度分析\r\n\r\n空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。\r\n\r\n>示例\r\n\r\n```\r\nvoid print(int n) {\r\n int i = 0;\r\n int[] a = new int[n];\r\n for (i; i <n; ++i) {\r\n   a[i] = i * i;\r\n }\r\n\r\n for (i = n-1; i >= 0; --i) {\r\n   print out a[i]\r\n }\r\n}\r\n```\r\n\r\n跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。\r\n\r\n我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。\r\n## 三. 最好、最坏、平均、均摊时间复杂度\r\n```\r\n// n 表示数组 array 的长度\r\nint find(int[] array, int n, int x) {\r\n  int pos = -1;\r\n  for (int i = 0; i < n; ++i) {\r\n    if (array[i] == x) {\r\n       pos = i;\r\n       break;\r\n    }\r\n  }\r\n  return pos;\r\n}\r\n```\r\n### 最好情况时间复杂度：O(1)\r\n\r\n### 最坏情况时间复杂度：O(n)\r\n\r\n### 平均情况时间复杂度：O(n)\r\n#### 不算概率\r\n每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)\r\n在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n\r\n要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。\r\n#### 算概率(加权平均时间复杂度/期望时间复杂度)\r\n假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)\r\n### 均摊时间复杂度\r\n假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)\r\n\r\n在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',`groups`='Algorithm',`is_show`=1,`publish`=1,`summary`='20 个最常用的、最基础数据结构与算法'  WHERE  `id` = 210 [ RunTime:0.000944s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001231s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=1  WHERE  `groups` = 'Algorithm' [ RunTime:0.000339s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001085s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=1  WHERE  `groups` = 'Algorithm' [ RunTime:0.000400s ]
---------------------------------------------------------------
[ 2018-10-26T10:56:32+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/210.html
[ info ] qingrang.top/daily/admin/note/shownote/id/210.html [运行时间：0.050377s][吞吐率：19.85req/s] [内存消耗：1,991.18kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editNote/id/210',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001244s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000936s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000308s ]
---------------------------------------------------------------
[ 2018-10-26T10:56:55+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editnote/id/210.html
[ info ] qingrang.top/daily/admin/note/editnote/id/210.html [运行时间：0.083213s][吞吐率：12.02req/s] [内存消耗：2,190.70kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000542s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001513s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000954s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000306s ]
---------------------------------------------------------------
[ 2018-10-26T10:57:54+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/updatenote/id/210.html
[ info ] qingrang.top/daily/admin/note/updatenote/id/210.html [运行时间：0.076764s][吞吐率：13.03req/s] [内存消耗：2,134.36kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'updatenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '30731',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/210.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'summary' => '20 个最常用的、最基础数据结构与算法',
  'content' => '# 数据结构与算法之美
`数据结构` `算法`

[TOC]
## 一. 简介
>什么是数据结构？什么是算法？

数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。
>数据结构和算法有什么关系呢？

这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。

>数据结构和算法的知识体系 - 思维导图

![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)

>20 个最常用的、最基础数据结构与算法

10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；

10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。

## 二. 复杂度分析
### 1. 什么是复杂度分析？
数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。

常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。

![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)
### 2. 为什么要进行复杂度分析？
1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。
2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。
### 3. 如何进行复杂度分析？
#### 大 O 表示法
>示例

从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？

```
//估算一下这段代码的执行时间。
int cal(int n) {
  int sum = 0;
  int i = 1;
  for (; i <= n; ++i) {
    sum = sum + i;
  }
  return sum;
}
```

第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。

```
//估算一下这段代码的执行时间
int cal(int n) {
  int sum = 0;
  int i = 1;
  int j = 1;
  for (; i <= n; ++i) {
    j = 1;
    for (; j <= n; ++j) {
      sum = sum +  i * j;
    }
   }
 }
```

执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$

结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。

我们可以把这个规律总结成一个公式，即，大 O 表示法：

$$T(n) = O(f(n))$$

T(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。

所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。

**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。

当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。

如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。

#### 如何分析一段代码的时间复杂度？

1. 只关注循环执行次数最多的一段代码
2. 加法法则：总复杂度等于量级最大的那段代码的复杂度
3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积

#### 常见的复杂度量级

![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)

对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。

我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。

当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。

#### 常见的多项式时间复杂度

>1.O(1)

首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。
```
int i = 8;
int j = 6
int sum = i + j;
```
我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。

>2.O(logn)、O(nlogn)

```
i=1;
while (i <= n)  {
  i = i * 2;
}
```
根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。

从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：

![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)

即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。

利用换底公式得：$$x=log_2n$$。

所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。

```
//这段代码的时间复杂度是多少？
i=1;
while (i <= n)  {
  i = i * 3;
}
```
 $$O(log_3n)$$

实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？

我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。

因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。

如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。

>3.O(m+n)、O(m*n)

```
int cal(int m, int n) {
  int sum_1 = 0;
  int i = 1;
  for (; i < m; ++i) {
    sum_1 = sum_1 + i;
  }

  int sum_2 = 0;
  int j = 1;
  for (; j < n; ++j) {
    sum_2 = sum_2 + j;
  }

  return sum_1 + sum_2;
}
```
从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。

针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。

#### 空间复杂度分析

空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。

>示例

```
void print(int n) {
 int i = 0;
 int[] a = new int[n];
 for (i; i <n; ++i) {
   a[i] = i * i;
 }

 for (i = n-1; i >= 0; --i) {
   print out a[i]
 }
}
```

跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。

我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。
## 三. 最好、最坏、平均、均摊时间复杂度
```
// n 表示数组 array 的长度
int find(int[] array, int n, int x) {
  int pos = -1;
  for (int i = 0; i < n; ++i) {
    if (array[i] == x) {
       pos = i;
       break;
    }
  }
  return pos;
}
```
### 最好情况时间复杂度
 $$O(1)$$
### 最坏情况时间复杂度
 $$O(n)$$
### 平均情况时间复杂度
 $$O(n)$$
#### 不算概率
每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)
在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n
要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。
#### 算概率(加权平均时间复杂度/期望时间复杂度)
假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)
### 均摊时间复杂度
假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)

在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',
  'groups' => 'Algorithm',
  'showsel' => '1',
  'showse2' => '1',
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->updateNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000531s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001583s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT `groups` FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000436s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000973s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.000420s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000377s ]
[ sql ] [ SQL ] UPDATE `note`  SET `id`=210,`p_id`=2,`title`='数据结构与算法之美\r',`content`='# 数据结构与算法之美\r\n`数据结构` `算法`\r\n\r\n[TOC]\r\n## 一. 简介\r\n>什么是数据结构？什么是算法？\r\n\r\n数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。\r\n>数据结构和算法有什么关系呢？\r\n\r\n这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。\r\n\r\n>数据结构和算法的知识体系 - 思维导图\r\n\r\n![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)\r\n\r\n>20 个最常用的、最基础数据结构与算法\r\n\r\n10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；\r\n\r\n10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。\r\n\r\n## 二. 复杂度分析\r\n### 1. 什么是复杂度分析？\r\n数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。\r\n\r\n常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。\r\n\r\n![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)\r\n### 2. 为什么要进行复杂度分析？\r\n1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。\r\n2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。\r\n### 3. 如何进行复杂度分析？\r\n#### 大 O 表示法\r\n>示例\r\n\r\n从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？\r\n\r\n```\r\n//估算一下这段代码的执行时间。\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  for (; i <= n; ++i) {\r\n    sum = sum + i;\r\n  }\r\n  return sum;\r\n}\r\n```\r\n\r\n第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。\r\n\r\n```\r\n//估算一下这段代码的执行时间\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  int j = 1;\r\n  for (; i <= n; ++i) {\r\n    j = 1;\r\n    for (; j <= n; ++j) {\r\n      sum = sum +  i * j;\r\n    }\r\n   }\r\n }\r\n```\r\n\r\n执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$\r\n\r\n结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。\r\n\r\n我们可以把这个规律总结成一个公式，即，大 O 表示法：\r\n\r\n$$T(n) = O(f(n))$$\r\n\r\nT(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。\r\n\r\n所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。\r\n\r\n**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。\r\n\r\n当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。\r\n\r\n如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。\r\n\r\n#### 如何分析一段代码的时间复杂度？\r\n\r\n1. 只关注循环执行次数最多的一段代码\r\n2. 加法法则：总复杂度等于量级最大的那段代码的复杂度\r\n3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积\r\n\r\n#### 常见的复杂度量级\r\n\r\n![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)\r\n\r\n对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。\r\n\r\n我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。\r\n\r\n当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。\r\n\r\n#### 常见的多项式时间复杂度\r\n\r\n>1.O(1)\r\n\r\n首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。\r\n```\r\nint i = 8;\r\nint j = 6\r\nint sum = i + j;\r\n```\r\n我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。\r\n\r\n>2.O(logn)、O(nlogn)\r\n\r\n```\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 2;\r\n}\r\n```\r\n根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。\r\n\r\n从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：\r\n\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)\r\n\r\n即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。\r\n\r\n利用换底公式得：$$x=log_2n$$。\r\n\r\n所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。\r\n\r\n```\r\n//这段代码的时间复杂度是多少？\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 3;\r\n}\r\n```\r\n $$O(log_3n)$$\r\n\r\n实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？\r\n\r\n我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。\r\n\r\n因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。\r\n\r\n如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。\r\n\r\n>3.O(m+n)、O(m*n)\r\n\r\n```\r\nint cal(int m, int n) {\r\n  int sum_1 = 0;\r\n  int i = 1;\r\n  for (; i < m; ++i) {\r\n    sum_1 = sum_1 + i;\r\n  }\r\n\r\n  int sum_2 = 0;\r\n  int j = 1;\r\n  for (; j < n; ++j) {\r\n    sum_2 = sum_2 + j;\r\n  }\r\n\r\n  return sum_1 + sum_2;\r\n}\r\n```\r\n从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。\r\n\r\n针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。\r\n\r\n#### 空间复杂度分析\r\n\r\n空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。\r\n\r\n>示例\r\n\r\n```\r\nvoid print(int n) {\r\n int i = 0;\r\n int[] a = new int[n];\r\n for (i; i <n; ++i) {\r\n   a[i] = i * i;\r\n }\r\n\r\n for (i = n-1; i >= 0; --i) {\r\n   print out a[i]\r\n }\r\n}\r\n```\r\n\r\n跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。\r\n\r\n我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。\r\n## 三. 最好、最坏、平均、均摊时间复杂度\r\n```\r\n// n 表示数组 array 的长度\r\nint find(int[] array, int n, int x) {\r\n  int pos = -1;\r\n  for (int i = 0; i < n; ++i) {\r\n    if (array[i] == x) {\r\n       pos = i;\r\n       break;\r\n    }\r\n  }\r\n  return pos;\r\n}\r\n```\r\n### 最好情况时间复杂度\r\n $$O(1)$$\r\n### 最坏情况时间复杂度\r\n $$O(n)$$\r\n### 平均情况时间复杂度\r\n $$O(n)$$\r\n#### 不算概率\r\n每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)\r\n在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n\r\n要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。\r\n#### 算概率(加权平均时间复杂度/期望时间复杂度)\r\n假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)\r\n### 均摊时间复杂度\r\n假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)\r\n\r\n在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',`groups`='Algorithm',`is_show`=1,`publish`=1,`summary`='20 个最常用的、最基础数据结构与算法'  WHERE  `id` = 210 [ RunTime:0.000930s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001143s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=1  WHERE  `groups` = 'Algorithm' [ RunTime:0.000421s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001102s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=1  WHERE  `groups` = 'Algorithm' [ RunTime:0.000341s ]
---------------------------------------------------------------
[ 2018-10-26T10:57:55+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/210.html
[ info ] qingrang.top/daily/admin/note/shownote/id/210.html [运行时间：0.058341s][吞吐率：17.14req/s] [内存消耗：1,990.97kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/210.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000580s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001481s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001104s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000335s ]
---------------------------------------------------------------
[ 2018-10-26T11:00:30+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editnote/id/210.html
[ info ] qingrang.top/daily/admin/note/editnote/id/210.html [运行时间：0.095048s][吞吐率：10.52req/s] [内存消耗：2,054.99kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'purpose' => 'prefetch',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000589s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.002037s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000557s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001142s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000319s ]
---------------------------------------------------------------
[ 2018-10-26T11:00:31+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editnote/id/210.html
[ info ] qingrang.top/daily/admin/note/editnote/id/210.html [运行时间：0.068715s][吞吐率：14.55req/s] [内存消耗：2,054.67kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000695s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001494s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001059s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000319s ]
---------------------------------------------------------------
[ 2018-10-26T11:01:44+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/updatenote/id/210.html
[ info ] qingrang.top/daily/admin/note/updatenote/id/210.html [运行时间：0.107212s][吞吐率：9.33req/s] [内存消耗：2,134.95kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'updatenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '30909',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/210.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'summary' => '20 个最常用的、最基础数据结构与算法',
  'content' => '# 数据结构与算法之美
`数据结构` `算法`

[TOC]
## 推荐书单
![推荐书单](http://p0tymq1rr.bkt.clouddn.com/daily/181026/jjkejk2kae.jpg)
## 一. 简介
>什么是数据结构？什么是算法？

数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。
>数据结构和算法有什么关系呢？

这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。

>数据结构和算法的知识体系 - 思维导图

![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)

>20 个最常用的、最基础数据结构与算法

10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；

10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。

## 二. 复杂度分析
### 1. 什么是复杂度分析？
数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。

常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。

![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)
### 2. 为什么要进行复杂度分析？
1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。
2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。
### 3. 如何进行复杂度分析？
#### 大 O 表示法
>示例

从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？

```
//估算一下这段代码的执行时间。
int cal(int n) {
  int sum = 0;
  int i = 1;
  for (; i <= n; ++i) {
    sum = sum + i;
  }
  return sum;
}
```

第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。

```
//估算一下这段代码的执行时间
int cal(int n) {
  int sum = 0;
  int i = 1;
  int j = 1;
  for (; i <= n; ++i) {
    j = 1;
    for (; j <= n; ++j) {
      sum = sum +  i * j;
    }
   }
 }
```

执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$

结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。

我们可以把这个规律总结成一个公式，即，大 O 表示法：

$$T(n) = O(f(n))$$

T(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。

所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。

**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。

当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。

如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。

#### 如何分析一段代码的时间复杂度？

1. 只关注循环执行次数最多的一段代码
2. 加法法则：总复杂度等于量级最大的那段代码的复杂度
3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积

#### 常见的复杂度量级

![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)

对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。

我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。

当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。

#### 常见的多项式时间复杂度

>1.O(1)

首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。
```
int i = 8;
int j = 6
int sum = i + j;
```
我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。

>2.O(logn)、O(nlogn)

```
i=1;
while (i <= n)  {
  i = i * 2;
}
```
根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。

从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：

![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)

即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。

利用换底公式得：$$x=log_2n$$。

所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。

```
//这段代码的时间复杂度是多少？
i=1;
while (i <= n)  {
  i = i * 3;
}
```
 $$O(log_3n)$$

实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？

我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。

因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。

如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。

>3.O(m+n)、O(m*n)

```
int cal(int m, int n) {
  int sum_1 = 0;
  int i = 1;
  for (; i < m; ++i) {
    sum_1 = sum_1 + i;
  }

  int sum_2 = 0;
  int j = 1;
  for (; j < n; ++j) {
    sum_2 = sum_2 + j;
  }

  return sum_1 + sum_2;
}
```
从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。

针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。

#### 空间复杂度分析

空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。

>示例

```
void print(int n) {
 int i = 0;
 int[] a = new int[n];
 for (i; i <n; ++i) {
   a[i] = i * i;
 }

 for (i = n-1; i >= 0; --i) {
   print out a[i]
 }
}
```

跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。

我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。
## 三. 最好、最坏、平均、均摊时间复杂度
```
// n 表示数组 array 的长度
int find(int[] array, int n, int x) {
  int pos = -1;
  for (int i = 0; i < n; ++i) {
    if (array[i] == x) {
       pos = i;
       break;
    }
  }
  return pos;
}
```
### 最好情况时间复杂度
 $$O(1)$$
### 最坏情况时间复杂度
 $$O(n)$$
### 平均情况时间复杂度
 $$O(n)$$
#### 不算概率
每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)
在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n
要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。
#### 算概率(加权平均时间复杂度/期望时间复杂度)
假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)
### 均摊时间复杂度
假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)

在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',
  'groups' => 'Algorithm',
  'showsel' => '1',
  'showse2' => '1',
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->updateNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000619s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001829s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000600s ]
[ sql ] [ SQL ] SELECT `groups` FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001497s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.000432s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000503s ]
[ sql ] [ SQL ] UPDATE `note`  SET `id`=210,`p_id`=2,`title`='数据结构与算法之美\r',`content`='# 数据结构与算法之美\r\n`数据结构` `算法`\r\n\r\n[TOC]\r\n## 推荐书单\r\n![推荐书单](http://p0tymq1rr.bkt.clouddn.com/daily/181026/jjkejk2kae.jpg)\r\n## 一. 简介\r\n>什么是数据结构？什么是算法？\r\n\r\n数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。\r\n>数据结构和算法有什么关系呢？\r\n\r\n这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。\r\n\r\n>数据结构和算法的知识体系 - 思维导图\r\n\r\n![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)\r\n\r\n>20 个最常用的、最基础数据结构与算法\r\n\r\n10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；\r\n\r\n10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。\r\n\r\n## 二. 复杂度分析\r\n### 1. 什么是复杂度分析？\r\n数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。\r\n\r\n常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。\r\n\r\n![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)\r\n### 2. 为什么要进行复杂度分析？\r\n1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。\r\n2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。\r\n### 3. 如何进行复杂度分析？\r\n#### 大 O 表示法\r\n>示例\r\n\r\n从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？\r\n\r\n```\r\n//估算一下这段代码的执行时间。\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  for (; i <= n; ++i) {\r\n    sum = sum + i;\r\n  }\r\n  return sum;\r\n}\r\n```\r\n\r\n第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。\r\n\r\n```\r\n//估算一下这段代码的执行时间\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  int j = 1;\r\n  for (; i <= n; ++i) {\r\n    j = 1;\r\n    for (; j <= n; ++j) {\r\n      sum = sum +  i * j;\r\n    }\r\n   }\r\n }\r\n```\r\n\r\n执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$\r\n\r\n结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。\r\n\r\n我们可以把这个规律总结成一个公式，即，大 O 表示法：\r\n\r\n$$T(n) = O(f(n))$$\r\n\r\nT(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。\r\n\r\n所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。\r\n\r\n**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。\r\n\r\n当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。\r\n\r\n如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。\r\n\r\n#### 如何分析一段代码的时间复杂度？\r\n\r\n1. 只关注循环执行次数最多的一段代码\r\n2. 加法法则：总复杂度等于量级最大的那段代码的复杂度\r\n3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积\r\n\r\n#### 常见的复杂度量级\r\n\r\n![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)\r\n\r\n对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。\r\n\r\n我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。\r\n\r\n当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。\r\n\r\n#### 常见的多项式时间复杂度\r\n\r\n>1.O(1)\r\n\r\n首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。\r\n```\r\nint i = 8;\r\nint j = 6\r\nint sum = i + j;\r\n```\r\n我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。\r\n\r\n>2.O(logn)、O(nlogn)\r\n\r\n```\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 2;\r\n}\r\n```\r\n根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。\r\n\r\n从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：\r\n\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)\r\n\r\n即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。\r\n\r\n利用换底公式得：$$x=log_2n$$。\r\n\r\n所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。\r\n\r\n```\r\n//这段代码的时间复杂度是多少？\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 3;\r\n}\r\n```\r\n $$O(log_3n)$$\r\n\r\n实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？\r\n\r\n我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。\r\n\r\n因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。\r\n\r\n如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。\r\n\r\n>3.O(m+n)、O(m*n)\r\n\r\n```\r\nint cal(int m, int n) {\r\n  int sum_1 = 0;\r\n  int i = 1;\r\n  for (; i < m; ++i) {\r\n    sum_1 = sum_1 + i;\r\n  }\r\n\r\n  int sum_2 = 0;\r\n  int j = 1;\r\n  for (; j < n; ++j) {\r\n    sum_2 = sum_2 + j;\r\n  }\r\n\r\n  return sum_1 + sum_2;\r\n}\r\n```\r\n从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。\r\n\r\n针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。\r\n\r\n#### 空间复杂度分析\r\n\r\n空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。\r\n\r\n>示例\r\n\r\n```\r\nvoid print(int n) {\r\n int i = 0;\r\n int[] a = new int[n];\r\n for (i; i <n; ++i) {\r\n   a[i] = i * i;\r\n }\r\n\r\n for (i = n-1; i >= 0; --i) {\r\n   print out a[i]\r\n }\r\n}\r\n```\r\n\r\n跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。\r\n\r\n我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。\r\n## 三. 最好、最坏、平均、均摊时间复杂度\r\n```\r\n// n 表示数组 array 的长度\r\nint find(int[] array, int n, int x) {\r\n  int pos = -1;\r\n  for (int i = 0; i < n; ++i) {\r\n    if (array[i] == x) {\r\n       pos = i;\r\n       break;\r\n    }\r\n  }\r\n  return pos;\r\n}\r\n```\r\n### 最好情况时间复杂度\r\n $$O(1)$$\r\n### 最坏情况时间复杂度\r\n $$O(n)$$\r\n### 平均情况时间复杂度\r\n $$O(n)$$\r\n#### 不算概率\r\n每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)\r\n在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n\r\n要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。\r\n#### 算概率(加权平均时间复杂度/期望时间复杂度)\r\n假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)\r\n### 均摊时间复杂度\r\n假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)\r\n\r\n在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',`groups`='Algorithm',`is_show`=1,`publish`=1,`summary`='20 个最常用的、最基础数据结构与算法'  WHERE  `id` = 210 [ RunTime:0.001165s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001957s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=1  WHERE  `groups` = 'Algorithm' [ RunTime:0.000575s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001621s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=1  WHERE  `groups` = 'Algorithm' [ RunTime:0.000498s ]
---------------------------------------------------------------
[ 2018-10-26T11:01:44+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/210.html
[ info ] qingrang.top/daily/admin/note/shownote/id/210.html [运行时间：0.053022s][吞吐率：18.86req/s] [内存消耗：1,991.10kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/210.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000540s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001710s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000413s ]
---------------------------------------------------------------
[ 2018-10-26T11:01:52+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/210.html
[ info ] qingrang.top/daily/admin/note/shownote/id/210.html [运行时间：0.053765s][吞吐率：18.60req/s] [内存消耗：1,991.10kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/210.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000624s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001432s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000463s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000965s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000289s ]
---------------------------------------------------------------
[ 2018-10-26T11:01:56+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/210.html
[ info ] qingrang.top/daily/admin/note/shownote/id/210.html [运行时间：0.058605s][吞吐率：17.06req/s] [内存消耗：1,991.10kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/210.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000523s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.002427s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001089s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000362s ]
---------------------------------------------------------------
[ 2018-10-26T11:02:46+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editnote/id/210.html
[ info ] qingrang.top/daily/admin/note/editnote/id/210.html [运行时间：0.061362s][吞吐率：16.30req/s] [内存消耗：2,055.26kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000520s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001605s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001031s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000343s ]
---------------------------------------------------------------
[ 2018-10-26T11:04:04+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/updatenote/id/210.html
[ info ] qingrang.top/daily/admin/note/updatenote/id/210.html [运行时间：0.064758s][吞吐率：15.44req/s] [内存消耗：2,135.62kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'updatenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '31101',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/210.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'summary' => '20 个最常用的、最基础数据结构与算法，入门包含了推荐书单，简介和复杂度分析',
  'content' => '# 数据结构与算法之美 - 入门
`数据结构` `算法`

[TOC]
## 推荐书单
![推荐书单](http://p0tymq1rr.bkt.clouddn.com/daily/181026/jjkejk2kae.jpg)
## 一. 简介
>什么是数据结构？什么是算法？

数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。
>数据结构和算法有什么关系呢？

这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。

>数据结构和算法的知识体系 - 思维导图

![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)

>20 个最常用的、最基础数据结构与算法

10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；

10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。

## 二. 复杂度分析
### 1. 什么是复杂度分析？
数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。

常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。

![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)
### 2. 为什么要进行复杂度分析？
1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。
2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。
### 3. 如何进行复杂度分析？
#### 大 O 表示法
>示例

从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？

```
//估算一下这段代码的执行时间。
int cal(int n) {
  int sum = 0;
  int i = 1;
  for (; i <= n; ++i) {
    sum = sum + i;
  }
  return sum;
}
```

第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。

```
//估算一下这段代码的执行时间
int cal(int n) {
  int sum = 0;
  int i = 1;
  int j = 1;
  for (; i <= n; ++i) {
    j = 1;
    for (; j <= n; ++j) {
      sum = sum +  i * j;
    }
   }
 }
```

执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$

结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。

我们可以把这个规律总结成一个公式，即，大 O 表示法：

$$T(n) = O(f(n))$$

T(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。

所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。

**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。

当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。

如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。

#### 如何分析一段代码的时间复杂度？

1. 只关注循环执行次数最多的一段代码
2. 加法法则：总复杂度等于量级最大的那段代码的复杂度
3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积

#### 常见的复杂度量级

![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)

对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。

我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。

当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。

#### 常见的多项式时间复杂度

>1.O(1)

首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。
```
int i = 8;
int j = 6
int sum = i + j;
```
我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。

>2.O(logn)、O(nlogn)

```
i=1;
while (i <= n)  {
  i = i * 2;
}
```
根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。

从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：

![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)

即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。

利用换底公式得：$$x=log_2n$$。

所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。

```
//这段代码的时间复杂度是多少？
i=1;
while (i <= n)  {
  i = i * 3;
}
```
 $$O(log_3n)$$

实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？

我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。

因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。

如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。

>3.O(m+n)、O(m*n)

```
int cal(int m, int n) {
  int sum_1 = 0;
  int i = 1;
  for (; i < m; ++i) {
    sum_1 = sum_1 + i;
  }

  int sum_2 = 0;
  int j = 1;
  for (; j < n; ++j) {
    sum_2 = sum_2 + j;
  }

  return sum_1 + sum_2;
}
```
从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。

针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。

#### 空间复杂度分析

空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。

>示例

```
void print(int n) {
 int i = 0;
 int[] a = new int[n];
 for (i; i <n; ++i) {
   a[i] = i * i;
 }

 for (i = n-1; i >= 0; --i) {
   print out a[i]
 }
}
```

跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。

我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。
## 三. 最好、最坏、平均、均摊时间复杂度
```
// n 表示数组 array 的长度
int find(int[] array, int n, int x) {
  int pos = -1;
  for (int i = 0; i < n; ++i) {
    if (array[i] == x) {
       pos = i;
       break;
    }
  }
  return pos;
}
```
### 最好情况时间复杂度
 $$O(1)$$
### 最坏情况时间复杂度
 $$O(n)$$
### 平均情况时间复杂度
 $$O(n)$$
#### 不算概率
每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)
在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n
要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。
#### 算概率(加权平均时间复杂度/期望时间复杂度)
假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)
### 均摊时间复杂度
假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)

在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',
  'groups' => 'Algorithm',
  'showsel' => '1',
  'showse2' => '1',
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->updateNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000517s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001255s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT `groups` FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001015s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000310s ]
[ sql ] [ SQL ] UPDATE `note`  SET `id`=210,`p_id`=2,`title`='数据结构与算法之美 - 入门\r',`content`='# 数据结构与算法之美 - 入门\r\n`数据结构` `算法`\r\n\r\n[TOC]\r\n## 推荐书单\r\n![推荐书单](http://p0tymq1rr.bkt.clouddn.com/daily/181026/jjkejk2kae.jpg)\r\n## 一. 简介\r\n>什么是数据结构？什么是算法？\r\n\r\n数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。\r\n>数据结构和算法有什么关系呢？\r\n\r\n这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。\r\n\r\n>数据结构和算法的知识体系 - 思维导图\r\n\r\n![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)\r\n\r\n>20 个最常用的、最基础数据结构与算法\r\n\r\n10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；\r\n\r\n10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。\r\n\r\n## 二. 复杂度分析\r\n### 1. 什么是复杂度分析？\r\n数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。\r\n\r\n常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。\r\n\r\n![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)\r\n### 2. 为什么要进行复杂度分析？\r\n1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。\r\n2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。\r\n### 3. 如何进行复杂度分析？\r\n#### 大 O 表示法\r\n>示例\r\n\r\n从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？\r\n\r\n```\r\n//估算一下这段代码的执行时间。\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  for (; i <= n; ++i) {\r\n    sum = sum + i;\r\n  }\r\n  return sum;\r\n}\r\n```\r\n\r\n第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。\r\n\r\n```\r\n//估算一下这段代码的执行时间\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  int j = 1;\r\n  for (; i <= n; ++i) {\r\n    j = 1;\r\n    for (; j <= n; ++j) {\r\n      sum = sum +  i * j;\r\n    }\r\n   }\r\n }\r\n```\r\n\r\n执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$\r\n\r\n结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。\r\n\r\n我们可以把这个规律总结成一个公式，即，大 O 表示法：\r\n\r\n$$T(n) = O(f(n))$$\r\n\r\nT(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。\r\n\r\n所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。\r\n\r\n**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。\r\n\r\n当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。\r\n\r\n如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。\r\n\r\n#### 如何分析一段代码的时间复杂度？\r\n\r\n1. 只关注循环执行次数最多的一段代码\r\n2. 加法法则：总复杂度等于量级最大的那段代码的复杂度\r\n3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积\r\n\r\n#### 常见的复杂度量级\r\n\r\n![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)\r\n\r\n对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。\r\n\r\n我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。\r\n\r\n当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。\r\n\r\n#### 常见的多项式时间复杂度\r\n\r\n>1.O(1)\r\n\r\n首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。\r\n```\r\nint i = 8;\r\nint j = 6\r\nint sum = i + j;\r\n```\r\n我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。\r\n\r\n>2.O(logn)、O(nlogn)\r\n\r\n```\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 2;\r\n}\r\n```\r\n根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。\r\n\r\n从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：\r\n\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)\r\n\r\n即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。\r\n\r\n利用换底公式得：$$x=log_2n$$。\r\n\r\n所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。\r\n\r\n```\r\n//这段代码的时间复杂度是多少？\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 3;\r\n}\r\n```\r\n $$O(log_3n)$$\r\n\r\n实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？\r\n\r\n我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。\r\n\r\n因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。\r\n\r\n如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。\r\n\r\n>3.O(m+n)、O(m*n)\r\n\r\n```\r\nint cal(int m, int n) {\r\n  int sum_1 = 0;\r\n  int i = 1;\r\n  for (; i < m; ++i) {\r\n    sum_1 = sum_1 + i;\r\n  }\r\n\r\n  int sum_2 = 0;\r\n  int j = 1;\r\n  for (; j < n; ++j) {\r\n    sum_2 = sum_2 + j;\r\n  }\r\n\r\n  return sum_1 + sum_2;\r\n}\r\n```\r\n从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。\r\n\r\n针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。\r\n\r\n#### 空间复杂度分析\r\n\r\n空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。\r\n\r\n>示例\r\n\r\n```\r\nvoid print(int n) {\r\n int i = 0;\r\n int[] a = new int[n];\r\n for (i; i <n; ++i) {\r\n   a[i] = i * i;\r\n }\r\n\r\n for (i = n-1; i >= 0; --i) {\r\n   print out a[i]\r\n }\r\n}\r\n```\r\n\r\n跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。\r\n\r\n我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。\r\n## 三. 最好、最坏、平均、均摊时间复杂度\r\n```\r\n// n 表示数组 array 的长度\r\nint find(int[] array, int n, int x) {\r\n  int pos = -1;\r\n  for (int i = 0; i < n; ++i) {\r\n    if (array[i] == x) {\r\n       pos = i;\r\n       break;\r\n    }\r\n  }\r\n  return pos;\r\n}\r\n```\r\n### 最好情况时间复杂度\r\n $$O(1)$$\r\n### 最坏情况时间复杂度\r\n $$O(n)$$\r\n### 平均情况时间复杂度\r\n $$O(n)$$\r\n#### 不算概率\r\n每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)\r\n在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n\r\n要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。\r\n#### 算概率(加权平均时间复杂度/期望时间复杂度)\r\n假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)\r\n### 均摊时间复杂度\r\n假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)\r\n\r\n在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',`groups`='Algorithm',`is_show`=1,`publish`=1,`summary`='20 个最常用的、最基础数据结构与算法，入门包含了推荐书单，简介和复杂度分析'  WHERE  `id` = 210 [ RunTime:0.000788s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001078s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=1  WHERE  `groups` = 'Algorithm' [ RunTime:0.000361s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001081s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=1  WHERE  `groups` = 'Algorithm' [ RunTime:0.000365s ]
---------------------------------------------------------------
[ 2018-10-26T11:04:05+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/210.html
[ info ] qingrang.top/daily/admin/note/shownote/id/210.html [运行时间：0.054302s][吞吐率：18.42req/s] [内存消耗：1,991.16kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/210.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000532s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001259s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000442s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000890s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000274s ]
---------------------------------------------------------------
[ 2018-10-26T11:04:18+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editnote/id/210.html
[ info ] qingrang.top/daily/admin/note/editnote/id/210.html [运行时间：0.075187s][吞吐率：13.30req/s] [内存消耗：2,055.32kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000724s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001593s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000643s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001173s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000347s ]
---------------------------------------------------------------
[ 2018-10-26T11:04:28+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/updatenote/id/210.html
[ info ] qingrang.top/daily/admin/note/updatenote/id/210.html [运行时间：0.066753s][吞吐率：14.98req/s] [内存消耗：2,135.67kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'updatenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '31101',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/210.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'summary' => '20 个最常用的、最基础数据结构与算法，入门包含了推荐书单，简介和复杂度分析',
  'content' => '# 数据结构与算法之美 - 入门
`数据结构` `算法`

[TOC]
## 推荐书单
![推荐书单](http://p0tymq1rr.bkt.clouddn.com/daily/181026/jjkejk2kae.jpg)
## 一. 简介
>什么是数据结构？什么是算法？

数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。
>数据结构和算法有什么关系呢？

这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。

>数据结构和算法的知识体系 - 思维导图

![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)

>20 个最常用的、最基础数据结构与算法

10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；

10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。

## 二. 复杂度分析
### 1. 什么是复杂度分析？
数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。

常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。

![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)
### 2. 为什么要进行复杂度分析？
1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。
2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。
### 3. 如何进行复杂度分析？
#### 大 O 表示法
>示例

从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？

```
//估算一下这段代码的执行时间。
int cal(int n) {
  int sum = 0;
  int i = 1;
  for (; i <= n; ++i) {
    sum = sum + i;
  }
  return sum;
}
```

第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。

```
//估算一下这段代码的执行时间
int cal(int n) {
  int sum = 0;
  int i = 1;
  int j = 1;
  for (; i <= n; ++i) {
    j = 1;
    for (; j <= n; ++j) {
      sum = sum +  i * j;
    }
   }
 }
```

执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$

结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。

我们可以把这个规律总结成一个公式，即，大 O 表示法：

$$T(n) = O(f(n))$$

T(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。

所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。

**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。

当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。

如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。

#### 如何分析一段代码的时间复杂度？

1. 只关注循环执行次数最多的一段代码
2. 加法法则：总复杂度等于量级最大的那段代码的复杂度
3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积

#### 常见的复杂度量级

![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)

对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。

我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。

当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。

#### 常见的多项式时间复杂度

>1.O(1)

首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。
```
int i = 8;
int j = 6
int sum = i + j;
```
我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。

>2.O(logn)、O(nlogn)

```
i=1;
while (i <= n)  {
  i = i * 2;
}
```
根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。

从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：

![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)

即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。

利用换底公式得：$$x=log_2n$$。

所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。

```
//这段代码的时间复杂度是多少？
i=1;
while (i <= n)  {
  i = i * 3;
}
```
 $$O(log_3n)$$

实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？

我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。

因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。

如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。

>3.O(m+n)、O(m*n)

```
int cal(int m, int n) {
  int sum_1 = 0;
  int i = 1;
  for (; i < m; ++i) {
    sum_1 = sum_1 + i;
  }

  int sum_2 = 0;
  int j = 1;
  for (; j < n; ++j) {
    sum_2 = sum_2 + j;
  }

  return sum_1 + sum_2;
}
```
从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。

针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。

#### 空间复杂度分析

空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。

>示例

```
void print(int n) {
 int i = 0;
 int[] a = new int[n];
 for (i; i <n; ++i) {
   a[i] = i * i;
 }

 for (i = n-1; i >= 0; --i) {
   print out a[i]
 }
}
```

跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。

我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。
## 三. 最好、最坏、平均、均摊时间复杂度
```
// n 表示数组 array 的长度
int find(int[] array, int n, int x) {
  int pos = -1;
  for (int i = 0; i < n; ++i) {
    if (array[i] == x) {
       pos = i;
       break;
    }
  }
  return pos;
}
```
### 最好情况时间复杂度
 $$O(1)$$
### 最坏情况时间复杂度
 $$O(n)$$
### 平均情况时间复杂度
 $$O(n)$$
#### 不算概率
每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)
在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n
要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。
#### 算概率(加权平均时间复杂度/期望时间复杂度)
假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)
### 均摊时间复杂度
假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)

在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',
  'groups' => 'Algorithm',
  'showsel' => '0',
  'showse2' => '1',
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->updateNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000573s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001308s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000492s ]
[ sql ] [ SQL ] SELECT `groups` FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000938s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.000388s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000336s ]
[ sql ] [ SQL ] UPDATE `note`  SET `id`=210,`p_id`=2,`title`='数据结构与算法之美 - 入门\r',`content`='# 数据结构与算法之美 - 入门\r\n`数据结构` `算法`\r\n\r\n[TOC]\r\n## 推荐书单\r\n![推荐书单](http://p0tymq1rr.bkt.clouddn.com/daily/181026/jjkejk2kae.jpg)\r\n## 一. 简介\r\n>什么是数据结构？什么是算法？\r\n\r\n数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。\r\n>数据结构和算法有什么关系呢？\r\n\r\n这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。\r\n\r\n>数据结构和算法的知识体系 - 思维导图\r\n\r\n![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)\r\n\r\n>20 个最常用的、最基础数据结构与算法\r\n\r\n10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；\r\n\r\n10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。\r\n\r\n## 二. 复杂度分析\r\n### 1. 什么是复杂度分析？\r\n数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。\r\n\r\n常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。\r\n\r\n![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)\r\n### 2. 为什么要进行复杂度分析？\r\n1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。\r\n2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。\r\n### 3. 如何进行复杂度分析？\r\n#### 大 O 表示法\r\n>示例\r\n\r\n从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？\r\n\r\n```\r\n//估算一下这段代码的执行时间。\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  for (; i <= n; ++i) {\r\n    sum = sum + i;\r\n  }\r\n  return sum;\r\n}\r\n```\r\n\r\n第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。\r\n\r\n```\r\n//估算一下这段代码的执行时间\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  int j = 1;\r\n  for (; i <= n; ++i) {\r\n    j = 1;\r\n    for (; j <= n; ++j) {\r\n      sum = sum +  i * j;\r\n    }\r\n   }\r\n }\r\n```\r\n\r\n执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$\r\n\r\n结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。\r\n\r\n我们可以把这个规律总结成一个公式，即，大 O 表示法：\r\n\r\n$$T(n) = O(f(n))$$\r\n\r\nT(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。\r\n\r\n所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。\r\n\r\n**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。\r\n\r\n当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。\r\n\r\n如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。\r\n\r\n#### 如何分析一段代码的时间复杂度？\r\n\r\n1. 只关注循环执行次数最多的一段代码\r\n2. 加法法则：总复杂度等于量级最大的那段代码的复杂度\r\n3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积\r\n\r\n#### 常见的复杂度量级\r\n\r\n![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)\r\n\r\n对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。\r\n\r\n我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。\r\n\r\n当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。\r\n\r\n#### 常见的多项式时间复杂度\r\n\r\n>1.O(1)\r\n\r\n首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。\r\n```\r\nint i = 8;\r\nint j = 6\r\nint sum = i + j;\r\n```\r\n我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。\r\n\r\n>2.O(logn)、O(nlogn)\r\n\r\n```\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 2;\r\n}\r\n```\r\n根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。\r\n\r\n从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：\r\n\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)\r\n\r\n即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。\r\n\r\n利用换底公式得：$$x=log_2n$$。\r\n\r\n所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。\r\n\r\n```\r\n//这段代码的时间复杂度是多少？\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 3;\r\n}\r\n```\r\n $$O(log_3n)$$\r\n\r\n实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？\r\n\r\n我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。\r\n\r\n因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。\r\n\r\n如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。\r\n\r\n>3.O(m+n)、O(m*n)\r\n\r\n```\r\nint cal(int m, int n) {\r\n  int sum_1 = 0;\r\n  int i = 1;\r\n  for (; i < m; ++i) {\r\n    sum_1 = sum_1 + i;\r\n  }\r\n\r\n  int sum_2 = 0;\r\n  int j = 1;\r\n  for (; j < n; ++j) {\r\n    sum_2 = sum_2 + j;\r\n  }\r\n\r\n  return sum_1 + sum_2;\r\n}\r\n```\r\n从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。\r\n\r\n针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。\r\n\r\n#### 空间复杂度分析\r\n\r\n空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。\r\n\r\n>示例\r\n\r\n```\r\nvoid print(int n) {\r\n int i = 0;\r\n int[] a = new int[n];\r\n for (i; i <n; ++i) {\r\n   a[i] = i * i;\r\n }\r\n\r\n for (i = n-1; i >= 0; --i) {\r\n   print out a[i]\r\n }\r\n}\r\n```\r\n\r\n跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。\r\n\r\n我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。\r\n## 三. 最好、最坏、平均、均摊时间复杂度\r\n```\r\n// n 表示数组 array 的长度\r\nint find(int[] array, int n, int x) {\r\n  int pos = -1;\r\n  for (int i = 0; i < n; ++i) {\r\n    if (array[i] == x) {\r\n       pos = i;\r\n       break;\r\n    }\r\n  }\r\n  return pos;\r\n}\r\n```\r\n### 最好情况时间复杂度\r\n $$O(1)$$\r\n### 最坏情况时间复杂度\r\n $$O(n)$$\r\n### 平均情况时间复杂度\r\n $$O(n)$$\r\n#### 不算概率\r\n每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)\r\n在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n\r\n要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。\r\n#### 算概率(加权平均时间复杂度/期望时间复杂度)\r\n假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)\r\n### 均摊时间复杂度\r\n假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)\r\n\r\n在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',`groups`='Algorithm',`is_show`=0,`publish`=1,`summary`='20 个最常用的、最基础数据结构与算法，入门包含了推荐书单，简介和复杂度分析'  WHERE  `id` = 210 [ RunTime:0.000783s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001093s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=1  WHERE  `groups` = 'Algorithm' [ RunTime:0.000315s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001035s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=1  WHERE  `groups` = 'Algorithm' [ RunTime:0.000444s ]
---------------------------------------------------------------
[ 2018-10-26T11:04:29+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/210.html
[ info ] qingrang.top/daily/admin/note/shownote/id/210.html [运行时间：0.054306s][吞吐率：18.41req/s] [内存消耗：1,991.16kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/210.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000488s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001235s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000418s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000915s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000368s ]
---------------------------------------------------------------
[ 2018-10-26T11:04:35+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.076595s][吞吐率：13.06req/s] [内存消耗：2,198.79kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000569s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001410s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.001627s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000500s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000943s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000340s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000383s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000881s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000327s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000464s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000387s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001034s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000218s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001079s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000625s ]
---------------------------------------------------------------
[ 2018-10-26T11:04:38+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/newedit.html
[ info ] qingrang.top/daily/admin/note/newedit.html [运行时间：0.054610s][吞吐率：18.31req/s] [内存消耗：2,020.94kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'newedit',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->newEdit[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/newedit.html [ array (
  0 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000605s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001319s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000423s ]
---------------------------------------------------------------
[ 2018-10-26T12:02:34+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/addnote.html
[ info ] qingrang.top/daily/admin/note/addnote.html [运行时间：0.072304s][吞吐率：13.83req/s] [内存消耗：2,039.50kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'addnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '28500',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/newedit.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'groups' => 'Algorithm',
  'content' => '# 数据结构与算法之美 - 数组
[TOC]
## 什么是数组？
数组（Array）是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同类型的数据。
## 如何实现随机访问？
1. 数组是线性表（Linear List）
数组支持随机访问，根据下标随机访问的时间复杂度为 O(1)。
2. 数组是连续的内存空间和相同类型的数据。

## 一维数组内存寻址公式
`a[i]address = base_address + i * data_type_size`

![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/8KcK70mFh5.png)
## 二维数组的内存寻址公式
对于 m * n 的数组，`a [i][j] (i < m,j < n)`的地址为：

`a[i][j]address = base_address + ( i * n + j) * type_size`

## 警惕数组的访问越界问题
```
int main(int argc, char* argv[]){
    int i = 0;
    int arr[3] = {0};
    for(; i<=3; i++){
        arr[i] = 0;
        printf("hello world\\n");
    }
    return 0;
}
```
这段代码的运行结果并非是打印三行 “hello word”，而是会无限打印 “hello world”，这是为什么呢？

在 C 语言中，只要不是访问受限的内存，所有的内存空间都是可以自由访问的。

根据我们前面讲的数组寻址公式，a[3] 也会被定位到某块不属于数组的内存地址上，而这个地址正好是存储变量 i 的内存地址，那么 a[3]=0 就相当于 i=0，所以就会导致代码无限循环。

数组越界在 C 语言中是一种未决行为，并没有规定数组访问越界时编译器应该如何处理。因为，访问数组的本质就是访问一段连续内存，只要数组通过偏移计算得到的内存地址是可用的，那么程序就可能不会报任何错误。

**函数体内的局部变量存在栈上，且是连续压栈**。在 Linux 进程的内存布局中，栈区在高地址空间，从高向低增长。变量 i 和 arr 在相邻地址，且 i 比 arr 的地址大，所以 arr 越界正好访问到 i 。当然，前提是 i 和 arr 元素同类型，否则那段代码仍是未决行为。

但并非所有的语言都像 C 一样，把数组越界检查的工作丢给程序员来做，像 Java 本身就会做越界检查。

## 数组和 ArrayList 的区别
### 容器会自动扩容，耗时操作
ArrayList 每次存储空间不够的时候，它都会将空间自动扩容为 1.5 倍大小。因为**扩容操作涉及内存申请和数据搬移，是比较耗时的**。所以，如果事先能确定需要存储的数据大小，最好在创建 ArrayList 的时候事先指定数据大小。事先指定数据大小可以省掉很多次内存申请和数据搬移操作。
### Java ArrayList 无法存储基本类型
Java ArrayList 无法存储基本类型，比如 int、long，需要封装为 Integer、Long 类，而 Autoboxing、Unboxing 则有一定的性能消耗，所以如果特别关注性能，或者希望使用基本类型，就可以选用数组。

## 为什么大多数编程语言中，数组要从 0 开始编号，而不是从 1 开始呢？
从数组存储的内存模型上来看，“下标”最确切的定义应该是“偏移（offset）”。如果用 a 来表示数组的首地址，a[0] 就是偏移为 0 的位置，也就是首地址，a[k] 就表示偏移 k 个 type_size 的位置，所以计算 a[k] 的内存地址只需要用这个公式：

`a[k]_address = base_address + k * type_size`

但是，如果数组从 1 开始计数，那我们计算数组元素 a[k] 的内存地址就会变为：

`a[k]_address = base_address + (k-1)*type_size`

对比两个公式，我们不难发现，从 1 开始编号，每次随机访问数组元素都多了一次减法运算，对于 CPU 来说，就是多了一次减法指令。

数组作为非常基础的数据结构，通过下标随机访问数组元素又是其非常基础的编程操作，效率的优化就要尽可能做到极致。所以为了减少一次减法操作，数组选择了从 0 开始编号，而不是从 1 开始。
## JVM 的标记清除垃圾回收算法
标记-清除算法在垃圾收集时会先标记出需要回收的对象，标记完成后统一回收所有被标记的对象。清除之后会产生大量不连续的内存碎片。标记-整理垃圾回收算法在标记完成之后让所有存活的对象都向一端移动，然后直接清理掉边界以外的内存。

不足：1.效率问题。标记和清理效率都不高，但是当知道只有少量垃圾产生时会很高效。2.空间问题。会产生不连续的内存空间碎片。
',
  'test-editormd-html-code' => '<h1 id="h1--"><a name="数据结构与算法之美 - 数组" class="reference-link"></a><span class="header-link octicon octicon-link"></span>数据结构与算法之美 - 数组</h1><div class="markdown-toc editormd-markdown-toc">[TOC]</div><h2 id="h2--"><a name="什么是数组？" class="reference-link"></a><span class="header-link octicon octicon-link"></span>什么是数组？</h2><p>数组（Array）是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同类型的数据。</p>
<h2 id="h2--"><a name="如何实现随机访问？" class="reference-link"></a><span class="header-link octicon octicon-link"></span>如何实现随机访问？</h2><ol>
<li>数组是线性表（Linear List）<br>数组支持随机访问，根据下标随机访问的时间复杂度为 O(1)。</li><li>数组是连续的内存空间和相同类型的数据。</li></ol>
<h2 id="h2-u4E00u7EF4u6570u7EC4u5185u5B58u5BFBu5740u516Cu5F0F"><a name="一维数组内存寻址公式" class="reference-link"></a><span class="header-link octicon octicon-link"></span>一维数组内存寻址公式</h2><p><code>a[i]address = base_address + i * data_type_size</code></p>
<p><img src="http://p0tymq1rr.bkt.clouddn.com/daily/181026/8KcK70mFh5.png" alt="mark"></p>
<h2 id="h2-u4E8Cu7EF4u6570u7EC4u7684u5185u5B58u5BFBu5740u516Cu5F0F"><a name="二维数组的内存寻址公式" class="reference-link"></a><span class="header-link octicon octicon-link"></span>二维数组的内存寻址公式</h2><p>对于 m * n 的数组，<code>a [i][j] (i &lt; m,j &lt; n)</code>的地址为：</p>
<p><code>a[i][j]address = base_address + ( i * n + j) * type_size</code></p>
<h2 id="h2-u8B66u60D5u6570u7EC4u7684u8BBFu95EEu8D8Au754Cu95EEu9898"><a name="警惕数组的访问越界问题" class="reference-link"></a><span class="header-link octicon octicon-link"></span>警惕数组的访问越界问题</h2><pre><code>int main(int argc, char* argv[]){
    int i = 0;
    int arr[3] = {0};
    for(; i&lt;=3; i++){
        arr[i] = 0;
        printf(&quot;hello world\\n&quot;);
    }
    return 0;
}
</code></pre><p>这段代码的运行结果并非是打印三行 “hello word”，而是会无限打印 “hello world”，这是为什么呢？</p>
<p>在 C 语言中，只要不是访问受限的内存，所有的内存空间都是可以自由访问的。</p>
<p>根据我们前面讲的数组寻址公式，a[3] 也会被定位到某块不属于数组的内存地址上，而这个地址正好是存储变量 i 的内存地址，那么 a[3]=0 就相当于 i=0，所以就会导致代码无限循环。</p>
<p>数组越界在 C 语言中是一种未决行为，并没有规定数组访问越界时编译器应该如何处理。因为，访问数组的本质就是访问一段连续内存，只要数组通过偏移计算得到的内存地址是可用的，那么程序就可能不会报任何错误。</p>
<p><strong>函数体内的局部变量存在栈上，且是连续压栈</strong>。在 Linux 进程的内存布局中，栈区在高地址空间，从高向低增长。变量 i 和 arr 在相邻地址，且 i 比 arr 的地址大，所以 arr 越界正好访问到 i 。当然，前提是 i 和 arr 元素同类型，否则那段代码仍是未决行为。</p>
<p>但并非所有的语言都像 C 一样，把数组越界检查的工作丢给程序员来做，像 Java 本身就会做越界检查。</p>
<h2 id="h2--arraylist-"><a name="数组和 ArrayList 的区别" class="reference-link"></a><span class="header-link octicon octicon-link"></span>数组和 ArrayList 的区别</h2><h3 id="h3--"><a name="容器会自动扩容，耗时操作" class="reference-link"></a><span class="header-link octicon octicon-link"></span>容器会自动扩容，耗时操作</h3><p>ArrayList 每次存储空间不够的时候，它都会将空间自动扩容为 1.5 倍大小。因为<strong>扩容操作涉及内存申请和数据搬移，是比较耗时的</strong>。所以，如果事先能确定需要存储的数据大小，最好在创建 ArrayList 的时候事先指定数据大小。事先指定数据大小可以省掉很多次内存申请和数据搬移操作。</p>
<h3 id="h3-java-arraylist-"><a name="Java ArrayList 无法存储基本类型" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Java ArrayList 无法存储基本类型</h3><p>Java ArrayList 无法存储基本类型，比如 int、long，需要封装为 Integer、Long 类，而 Autoboxing、Unboxing 则有一定的性能消耗，所以如果特别关注性能，或者希望使用基本类型，就可以选用数组。</p>
<h2 id="h2--0-1-"><a name="为什么大多数编程语言中，数组要从 0 开始编号，而不是从 1 开始呢？" class="reference-link"></a><span class="header-link octicon octicon-link"></span>为什么大多数编程语言中，数组要从 0 开始编号，而不是从 1 开始呢？</h2><p>从数组存储的内存模型上来看，“下标”最确切的定义应该是“偏移（offset）”。如果用 a 来表示数组的首地址，a[0] 就是偏移为 0 的位置，也就是首地址，a[k] 就表示偏移 k 个 type_size 的位置，所以计算 a[k] 的内存地址只需要用这个公式：</p>
<p><code>a[k]_address = base_address + k * type_size</code></p>
<p>但是，如果数组从 1 开始计数，那我们计算数组元素 a[k] 的内存地址就会变为：</p>
<p><code>a[k]_address = base_address + (k-1)*type_size</code></p>
<p>对比两个公式，我们不难发现，从 1 开始编号，每次随机访问数组元素都多了一次减法运算，对于 CPU 来说，就是多了一次减法指令。</p>
<p>数组作为非常基础的数据结构，通过下标随机访问数组元素又是其非常基础的编程操作，效率的优化就要尽可能做到极致。所以为了减少一次减法操作，数组选择了从 0 开始编号，而不是从 1 开始。</p>
<h2 id="h2-jvm-"><a name="JVM 的标记清除垃圾回收算法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>JVM 的标记清除垃圾回收算法</h2><p>标记-清除算法在垃圾收集时会先标记出需要回收的对象，标记完成后统一回收所有被标记的对象。清除之后会产生大量不连续的内存碎片。标记-整理垃圾回收算法在标记完成之后让所有存活的对象都向一端移动，然后直接清理掉边界以外的内存。</p>
<p>不足：1.效率问题。标记和清理效率都不高，但是当知道只有少量垃圾产生时会很高效。2.空间问题。会产生不连续的内存空间碎片。</p>
',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->addNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000819s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001847s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.000427s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001118s ]
[ sql ] [ SQL ] INSERT INTO `note` (`title` , `content` , `groups` , `p_id` , `date`) VALUES ('数据结构与算法之美 - 数组\r' , '# 数据结构与算法之美 - 数组\r\n[TOC]\r\n## 什么是数组？\r\n数组（Array）是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同类型的数据。\r\n## 如何实现随机访问？\r\n1. 数组是线性表（Linear List）\r\n数组支持随机访问，根据下标随机访问的时间复杂度为 O(1)。\r\n2. 数组是连续的内存空间和相同类型的数据。\r\n\r\n## 一维数组内存寻址公式\r\n`a[i]address = base_address + i * data_type_size`\r\n\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/8KcK70mFh5.png)\r\n## 二维数组的内存寻址公式\r\n对于 m * n 的数组，`a [i][j] (i < m,j < n)`的地址为：\r\n\r\n`a[i][j]address = base_address + ( i * n + j) * type_size`\r\n\r\n## 警惕数组的访问越界问题\r\n```\r\nint main(int argc, char* argv[]){\r\n    int i = 0;\r\n    int arr[3] = {0};\r\n    for(; i<=3; i++){\r\n        arr[i] = 0;\r\n        printf(\"hello world\\n\");\r\n    }\r\n    return 0;\r\n}\r\n```\r\n这段代码的运行结果并非是打印三行 “hello word”，而是会无限打印 “hello world”，这是为什么呢？\r\n\r\n在 C 语言中，只要不是访问受限的内存，所有的内存空间都是可以自由访问的。\r\n\r\n根据我们前面讲的数组寻址公式，a[3] 也会被定位到某块不属于数组的内存地址上，而这个地址正好是存储变量 i 的内存地址，那么 a[3]=0 就相当于 i=0，所以就会导致代码无限循环。\r\n\r\n数组越界在 C 语言中是一种未决行为，并没有规定数组访问越界时编译器应该如何处理。因为，访问数组的本质就是访问一段连续内存，只要数组通过偏移计算得到的内存地址是可用的，那么程序就可能不会报任何错误。\r\n\r\n**函数体内的局部变量存在栈上，且是连续压栈**。在 Linux 进程的内存布局中，栈区在高地址空间，从高向低增长。变量 i 和 arr 在相邻地址，且 i 比 arr 的地址大，所以 arr 越界正好访问到 i 。当然，前提是 i 和 arr 元素同类型，否则那段代码仍是未决行为。\r\n\r\n但并非所有的语言都像 C 一样，把数组越界检查的工作丢给程序员来做，像 Java 本身就会做越界检查。\r\n\r\n## 数组和 ArrayList 的区别\r\n### 容器会自动扩容，耗时操作\r\nArrayList 每次存储空间不够的时候，它都会将空间自动扩容为 1.5 倍大小。因为**扩容操作涉及内存申请和数据搬移，是比较耗时的**。所以，如果事先能确定需要存储的数据大小，最好在创建 ArrayList 的时候事先指定数据大小。事先指定数据大小可以省掉很多次内存申请和数据搬移操作。\r\n### Java ArrayList 无法存储基本类型\r\nJava ArrayList 无法存储基本类型，比如 int、long，需要封装为 Integer、Long 类，而 Autoboxing、Unboxing 则有一定的性能消耗，所以如果特别关注性能，或者希望使用基本类型，就可以选用数组。\r\n\r\n## 为什么大多数编程语言中，数组要从 0 开始编号，而不是从 1 开始呢？\r\n从数组存储的内存模型上来看，“下标”最确切的定义应该是“偏移（offset）”。如果用 a 来表示数组的首地址，a[0] 就是偏移为 0 的位置，也就是首地址，a[k] 就表示偏移 k 个 type_size 的位置，所以计算 a[k] 的内存地址只需要用这个公式：\r\n\r\n`a[k]_address = base_address + k * type_size`\r\n\r\n但是，如果数组从 1 开始计数，那我们计算数组元素 a[k] 的内存地址就会变为：\r\n\r\n`a[k]_address = base_address + (k-1)*type_size`\r\n\r\n对比两个公式，我们不难发现，从 1 开始编号，每次随机访问数组元素都多了一次减法运算，对于 CPU 来说，就是多了一次减法指令。\r\n\r\n数组作为非常基础的数据结构，通过下标随机访问数组元素又是其非常基础的编程操作，效率的优化就要尽可能做到极致。所以为了减少一次减法操作，数组选择了从 0 开始编号，而不是从 1 开始。\r\n## JVM 的标记清除垃圾回收算法\r\n标记-清除算法在垃圾收集时会先标记出需要回收的对象，标记完成后统一回收所有被标记的对象。清除之后会产生大量不连续的内存碎片。标记-整理垃圾回收算法在标记完成之后让所有存活的对象都向一端移动，然后直接清理掉边界以外的内存。\r\n\r\n不足：1.效率问题。标记和清理效率都不高，但是当知道只有少量垃圾产生时会很高效。2.空间问题。会产生不连续的内存空间碎片。\r\n' , 'Algorithm' , 2 , '2018-10-26') [ RunTime:0.000713s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001959s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=2  WHERE  `groups` = 'Algorithm' [ RunTime:0.000510s ]
---------------------------------------------------------------
[ 2018-10-26T12:02:34+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.079372s][吞吐率：12.60req/s] [内存消耗：2,201.93kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/newedit.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000590s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001341s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.002032s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000688s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000955s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000350s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000478s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000908s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000271s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000489s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000409s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001388s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000220s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001031s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000667s ]
---------------------------------------------------------------
[ 2018-10-26T12:02:41+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/229.html
[ info ] qingrang.top/daily/admin/note/shownote/id/229.html [运行时间：0.054670s][吞吐率：18.29req/s] [内存消耗：1,984.18kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '229',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000587s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001404s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 229 LIMIT 1 [ RunTime:0.000505s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000954s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000372s ]
---------------------------------------------------------------
[ 2018-10-26T12:04:02+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/newedit.html
[ info ] qingrang.top/daily/admin/note/newedit.html [运行时间：0.056987s][吞吐率：17.55req/s] [内存消耗：2,020.94kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'newedit',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->newEdit[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/newedit.html [ array (
  0 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000621s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001209s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000288s ]
---------------------------------------------------------------
[ 2018-10-26T12:07:11+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/addnote.html
[ info ] qingrang.top/daily/admin/note/addnote.html [运行时间：0.065099s][吞吐率：15.36req/s] [内存消耗：1,987.73kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'addnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '5511',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/newedit.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'groups' => 'Basics',
  'content' => '# 计算机内存地址为什么用 16 进制
- 计算机硬件是 0101 二进制的，16 进制刚好是 2 的倍数，更容易表达一个命令或者数据。二进制是在是太长了,容易看花眼,进制越大，数的表达长度也就越短,十六进制更简短，因为换算的时候一位 16 进制数可以顶 4 位 2 进制数，1111 正好是 F
- 那么为啥偏偏是 16 进制呢?可能是因为 2、8、16，分别是 2 的 1 次方，3 次方，4 次方,这一点更加方便了进制之间的转换
- 最早规定ASCII字符集采用的就是 8bit (后期扩展了,但是基础单位还是 8bit)，8bit 用 2 个 16 进制直接就能表达出来，不管阅读还是存储都比其他进制要方便
- 计算机中 CPU 运算也是遵照 ASCII 字符集，以 16、32、64 的这样的方式在发展，因此数据交换的时候 16 进制也显得更好,但计算机最后操作的还是二进制',
  'test-editormd-html-code' => '<h1 id="h1--16-"><a name="计算机内存地址为什么用 16 进制" class="reference-link"></a><span class="header-link octicon octicon-link"></span>计算机内存地址为什么用 16 进制</h1><ul>
<li>计算机硬件是 0101 二进制的，16 进制刚好是 2 的倍数，更容易表达一个命令或者数据。二进制是在是太长了,容易看花眼,进制越大，数的表达长度也就越短,十六进制更简短，因为换算的时候一位 16 进制数可以顶 4 位 2 进制数，1111 正好是 F</li><li>那么为啥偏偏是 16 进制呢?可能是因为 2、8、16，分别是 2 的 1 次方，3 次方，4 次方,这一点更加方便了进制之间的转换</li><li>最早规定ASCII字符集采用的就是 8bit (后期扩展了,但是基础单位还是 8bit)，8bit 用 2 个 16 进制直接就能表达出来，不管阅读还是存储都比其他进制要方便</li><li>计算机中 CPU 运算也是遵照 ASCII 字符集，以 16、32、64 的这样的方式在发展，因此数据交换的时候 16 进制也显得更好,但计算机最后操作的还是二进制</li></ul>
',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->addNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000614s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001821s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Basics' LIMIT 1 [ RunTime:0.000419s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000343s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001292s ]
[ sql ] [ SQL ] INSERT INTO `note` (`title` , `content` , `groups` , `p_id` , `date`) VALUES ('计算机内存地址为什么用 16 进制\r' , '# 计算机内存地址为什么用 16 进制\r\n- 计算机硬件是 0101 二进制的，16 进制刚好是 2 的倍数，更容易表达一个命令或者数据。二进制是在是太长了,容易看花眼,进制越大，数的表达长度也就越短,十六进制更简短，因为换算的时候一位 16 进制数可以顶 4 位 2 进制数，1111 正好是 F\r\n- 那么为啥偏偏是 16 进制呢?可能是因为 2、8、16，分别是 2 的 1 次方，3 次方，4 次方,这一点更加方便了进制之间的转换\r\n- 最早规定ASCII字符集采用的就是 8bit (后期扩展了,但是基础单位还是 8bit)，8bit 用 2 个 16 进制直接就能表达出来，不管阅读还是存储都比其他进制要方便\r\n- 计算机中 CPU 运算也是遵照 ASCII 字符集，以 16、32、64 的这样的方式在发展，因此数据交换的时候 16 进制也显得更好,但计算机最后操作的还是二进制' , 'Basics' , 2 , '2018-10-26') [ RunTime:0.000424s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Basics' LIMIT 1 [ RunTime:0.001161s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=19  WHERE  `groups` = 'Basics' [ RunTime:0.000413s ]
---------------------------------------------------------------
[ 2018-10-26T12:07:12+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.079193s][吞吐率：12.63req/s] [内存消耗：2,200.63kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/newedit.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000510s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001340s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.001688s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000680s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001007s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000487s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001015s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000303s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000430s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000379s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000399s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001142s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000374s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001119s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000621s ]
---------------------------------------------------------------
[ 2018-10-26T12:07:18+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/230.html
[ info ] qingrang.top/daily/admin/note/shownote/id/230.html [运行时间：0.054414s][吞吐率：18.38req/s] [内存消耗：1,980.57kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '230',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000545s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001510s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 230 LIMIT 1 [ RunTime:0.000406s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000302s ]
---------------------------------------------------------------
[ 2018-10-26T12:07:26+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editnote/id/230.html
[ info ] qingrang.top/daily/admin/note/editnote/id/230.html [运行时间：0.060846s][吞吐率：16.43req/s] [内存消耗：2,028.87kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '230',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000620s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001363s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 230 LIMIT 1 [ RunTime:0.000483s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001088s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000428s ]
---------------------------------------------------------------
[ 2018-10-26T12:07:34+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/updatenote/id/230.html
[ info ] qingrang.top/daily/admin/note/updatenote/id/230.html [运行时间：0.067115s][吞吐率：14.90req/s] [内存消耗：2,054.18kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'updatenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '2603',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/230.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'summary' => '',
  'content' => '# 计算机内存地址为什么用 16 进制
- 计算机硬件是 0101 二进制的，16 进制刚好是 2 的倍数，更容易表达一个命令或者数据。二进制是在是太长了,容易看花眼,进制越大，数的表达长度也就越短,十六进制更简短，因为换算的时候一位 16 进制数可以顶 4 位 2 进制数，1111 正好是 F
- 那么为啥偏偏是 16 进制呢?可能是因为 2、8、16，分别是 2 的 1 次方，3 次方，4 次方,这一点更加方便了进制之间的转换
- 最早规定ASCII字符集采用的就是 8bit (后期扩展了,但是基础单位还是 8bit)，8bit 用 2 个 16 进制直接就能表达出来，不管阅读还是存储都比其他进制要方便
- 计算机中 CPU 运算也是遵照 ASCII 字符集，以 16、32、64 的这样的方式在发展，因此数据交换的时候 16 进制也显得更好,但计算机最后操作的还是二进制',
  'groups' => 'Basics',
  'showsel' => '0',
  'showse2' => '1',
  'id' => '230',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->updateNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000473s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001272s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 230 LIMIT 1 [ RunTime:0.000379s ]
[ sql ] [ SQL ] SELECT `groups` FROM `note` WHERE  `id` = 230 LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Basics' LIMIT 1 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] UPDATE `note`  SET `id`=230,`p_id`=2,`title`='计算机内存地址为什么用 16 进制\r',`content`='# 计算机内存地址为什么用 16 进制\r\n- 计算机硬件是 0101 二进制的，16 进制刚好是 2 的倍数，更容易表达一个命令或者数据。二进制是在是太长了,容易看花眼,进制越大，数的表达长度也就越短,十六进制更简短，因为换算的时候一位 16 进制数可以顶 4 位 2 进制数，1111 正好是 F\r\n- 那么为啥偏偏是 16 进制呢?可能是因为 2、8、16，分别是 2 的 1 次方，3 次方，4 次方,这一点更加方便了进制之间的转换\r\n- 最早规定ASCII字符集采用的就是 8bit (后期扩展了,但是基础单位还是 8bit)，8bit 用 2 个 16 进制直接就能表达出来，不管阅读还是存储都比其他进制要方便\r\n- 计算机中 CPU 运算也是遵照 ASCII 字符集，以 16、32、64 的这样的方式在发展，因此数据交换的时候 16 进制也显得更好,但计算机最后操作的还是二进制',`groups`='Basics',`is_show`=0,`publish`=1,`summary`=''  WHERE  `id` = 230 [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Basics' LIMIT 1 [ RunTime:0.001115s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=19  WHERE  `groups` = 'Basics' [ RunTime:0.000344s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Basics' LIMIT 1 [ RunTime:0.001115s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=19  WHERE  `groups` = 'Basics' [ RunTime:0.000351s ]
---------------------------------------------------------------
[ 2018-10-26T12:07:34+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/230.html
[ info ] qingrang.top/daily/admin/note/shownote/id/230.html [运行时间：0.049486s][吞吐率：20.21req/s] [内存消耗：1,980.71kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/230.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '230',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000476s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001255s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 230 LIMIT 1 [ RunTime:0.000391s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000289s ]
---------------------------------------------------------------
[ 2018-10-26T12:08:59+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editnote/id/230.html
[ info ] qingrang.top/daily/admin/note/editnote/id/230.html [运行时间：0.059367s][吞吐率：16.84req/s] [内存消耗：2,028.41kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '230',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000642s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001933s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 230 LIMIT 1 [ RunTime:0.000445s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000933s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000437s ]
---------------------------------------------------------------
[ 2018-10-26T12:14:36+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/updatenote/id/230.html
[ info ] qingrang.top/daily/admin/note/updatenote/id/230.html [运行时间：0.066339s][吞吐率：15.07req/s] [内存消耗：2,051.33kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'updatenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '1518',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/230.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'summary' => '',
  'content' => '# 计算机内存地址为什么用 16 进制
- 计算机硬件是 0101 二进制的，二进制表示很繁琐。
- 最早规定 ASCII 字符集采用的就是 8bit (后期扩展了,但是基础单位还是 8bit)，8bit 用 2 个 16 进制直接就能表达出来(1111 正好是 F)，不管阅读还是存储都比其他进制要方便。
- 计算机中 CPU 运算也是遵照 ASCII 字符集，以 16、32、64 的这样的方式在发展，因此数据交换的时候 16 进制也显得更好,但计算机最后操作的还是二进制',
  'groups' => 'Basics',
  'showsel' => '0',
  'showse2' => '1',
  'id' => '230',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->updateNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000502s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001431s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 230 LIMIT 1 [ RunTime:0.000492s ]
[ sql ] [ SQL ] SELECT `groups` FROM `note` WHERE  `id` = 230 LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Basics' LIMIT 1 [ RunTime:0.000354s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000282s ]
[ sql ] [ SQL ] UPDATE `note`  SET `id`=230,`p_id`=2,`title`='计算机内存地址为什么用 16 进制\r',`content`='# 计算机内存地址为什么用 16 进制\r\n- 计算机硬件是 0101 二进制的，二进制表示很繁琐。\r\n- 最早规定 ASCII 字符集采用的就是 8bit (后期扩展了,但是基础单位还是 8bit)，8bit 用 2 个 16 进制直接就能表达出来(1111 正好是 F)，不管阅读还是存储都比其他进制要方便。\r\n- 计算机中 CPU 运算也是遵照 ASCII 字符集，以 16、32、64 的这样的方式在发展，因此数据交换的时候 16 进制也显得更好,但计算机最后操作的还是二进制',`groups`='Basics',`is_show`=0,`publish`=1,`summary`=''  WHERE  `id` = 230 [ RunTime:0.000440s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Basics' LIMIT 1 [ RunTime:0.001372s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=19  WHERE  `groups` = 'Basics' [ RunTime:0.000574s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Basics' LIMIT 1 [ RunTime:0.001426s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=19  WHERE  `groups` = 'Basics' [ RunTime:0.000337s ]
---------------------------------------------------------------
[ 2018-10-26T12:14:36+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/230.html
[ info ] qingrang.top/daily/admin/note/shownote/id/230.html [运行时间：0.050033s][吞吐率：19.99req/s] [内存消耗：1,980.33kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/230.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '230',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000470s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001247s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 230 LIMIT 1 [ RunTime:0.000472s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001026s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000312s ]
---------------------------------------------------------------
[ 2018-10-26T12:16:19+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/230.html
[ info ] qingrang.top/daily/admin/note/shownote/id/230.html [运行时间：0.071001s][吞吐率：14.08req/s] [内存消耗：1,980.33kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/230.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '230',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000698s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001665s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 230 LIMIT 1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001112s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000413s ]
---------------------------------------------------------------
[ 2018-10-26T12:16:44+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/ashownote2.html
[ info ] qingrang.top/daily/admin/note/ashownote2.html [运行时间：0.065691s][吞吐率：15.22req/s] [内存消耗：2,160.51kb] [文件加载：52]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'ashownote2',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '19',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://qingrang.top',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'groupname' => 'Algorithm',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->aShowNote2[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000634s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001425s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` = 'Algorithm' ORDER BY date desc [ RunTime:0.001522s ]
---------------------------------------------------------------
[ 2018-10-26T12:16:46+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editNote/id/210
[ info ] qingrang.top/daily/admin/note/editNote/id/210 [运行时间：0.063437s][吞吐率：15.76req/s] [内存消耗：2,055.25kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editNote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000501s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001428s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000965s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000322s ]
---------------------------------------------------------------
[ 2018-10-26T12:18:45+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/updatenote/id/210.html
[ info ] qingrang.top/daily/admin/note/updatenote/id/210.html [运行时间：0.100902s][吞吐率：9.91req/s] [内存消耗：2,138.01kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'updatenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '31996',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editNote/id/210',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'summary' => '20 个最常用的、最基础数据结构与算法，入门包含了推荐书单，简介和复杂度分析',
  'content' => '# 数据结构与算法之美 - 入门
`数据结构` `算法`

[TOC]
## 推荐书单
![推荐书单](http://p0tymq1rr.bkt.clouddn.com/daily/181026/jjkejk2kae.jpg)
## 一. 简介
>什么是数据结构？什么是算法？

数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。
>数据结构和算法有什么关系呢？

这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。

>数据结构和算法的知识体系 - 思维导图

![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)

>20 个最常用的、最基础数据结构与算法

10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；

10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。
>渐进符号

|记号| 含义| 通俗理解|
|-|-|
|Θ（西塔）| 紧确界| 相当于”=”|
|O （大欧）| 上界| 相当于”<=”|
|o（小欧）| 非紧的上界| 相当于”<”|
|Ω（大欧米伽） |下界| 相当于”>=”|
|ω（小欧米伽）| 非紧的下界|相当于”>”|

## 二. 复杂度分析
### 1. 什么是复杂度分析？
数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。

常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。

![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)
### 2. 为什么要进行复杂度分析？
1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。
2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。
### 3. 如何进行复杂度分析？
#### 大 O 表示法
>示例

从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？

```
//估算一下这段代码的执行时间。
int cal(int n) {
  int sum = 0;
  int i = 1;
  for (; i <= n; ++i) {
    sum = sum + i;
  }
  return sum;
}
```

第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。

```
//估算一下这段代码的执行时间
int cal(int n) {
  int sum = 0;
  int i = 1;
  int j = 1;
  for (; i <= n; ++i) {
    j = 1;
    for (; j <= n; ++j) {
      sum = sum +  i * j;
    }
   }
 }
```

执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$

结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。

我们可以把这个规律总结成一个公式，即，大 O 表示法：

$$T(n) = O(f(n))$$

T(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。

所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。

**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。

当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。

如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。

#### 如何分析一段代码的时间复杂度？

1. 只关注循环执行次数最多的一段代码
2. 加法法则：总复杂度等于量级最大的那段代码的复杂度
3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积

#### 常见的复杂度量级

![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)

对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。

我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。

当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。

#### 常见的多项式时间复杂度

>1.O(1)

首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。
```
int i = 8;
int j = 6
int sum = i + j;
```
我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。

>2.O(logn)、O(nlogn)

```
i=1;
while (i <= n)  {
  i = i * 2;
}
```
根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。

从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：

![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)

即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。

利用换底公式得：$$x=log_2n$$。

所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。

```
//这段代码的时间复杂度是多少？
i=1;
while (i <= n)  {
  i = i * 3;
}
```
 $$O(log_3n)$$

实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？

我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。

因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。

如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。

>3.O(m+n)、O(m*n)

```
int cal(int m, int n) {
  int sum_1 = 0;
  int i = 1;
  for (; i < m; ++i) {
    sum_1 = sum_1 + i;
  }

  int sum_2 = 0;
  int j = 1;
  for (; j < n; ++j) {
    sum_2 = sum_2 + j;
  }

  return sum_1 + sum_2;
}
```
从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。

针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。

#### 空间复杂度分析

空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。

>示例

```
void print(int n) {
 int i = 0;
 int[] a = new int[n];
 for (i; i <n; ++i) {
   a[i] = i * i;
 }

 for (i = n-1; i >= 0; --i) {
   print out a[i]
 }
}
```

跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。

我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。
## 三. 最好、最坏、平均、均摊时间复杂度
```
// n 表示数组 array 的长度
int find(int[] array, int n, int x) {
  int pos = -1;
  for (int i = 0; i < n; ++i) {
    if (array[i] == x) {
       pos = i;
       break;
    }
  }
  return pos;
}
```
### 最好情况时间复杂度
 $$O(1)$$
### 最坏情况时间复杂度
 $$O(n)$$
### 平均情况时间复杂度
 $$O(n)$$
#### 不算概率
每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)
在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n
要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。
#### 算概率(加权平均时间复杂度/期望时间复杂度)
假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)
### 均摊时间复杂度
假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)

在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',
  'groups' => 'Algorithm',
  'showsel' => '0',
  'showse2' => '1',
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->updateNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000757s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001776s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT `groups` FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001347s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000421s ]
[ sql ] [ SQL ] UPDATE `note`  SET `id`=210,`p_id`=2,`title`='数据结构与算法之美 - 入门\r',`content`='# 数据结构与算法之美 - 入门\r\n`数据结构` `算法`\r\n\r\n[TOC]\r\n## 推荐书单\r\n![推荐书单](http://p0tymq1rr.bkt.clouddn.com/daily/181026/jjkejk2kae.jpg)\r\n## 一. 简介\r\n>什么是数据结构？什么是算法？\r\n\r\n数据结构就是指一组数据的存储结构。算法就是操作数据的一组方法。\r\n>数据结构和算法有什么关系呢？\r\n\r\n这是因为，数据结构和算法是相辅相成的。数据结构是为算法服务的，算法也需要作用在特定的数据结构之上。\r\n\r\n>数据结构和算法的知识体系 - 思维导图\r\n\r\n![数据结构和算法的知识体系](http://p0tymq1rr.bkt.clouddn.com/daily/180928/A7fFlBkGHG.jpg)\r\n\r\n>20 个最常用的、最基础数据结构与算法\r\n\r\n10 个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie 树；\r\n\r\n10 个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。\r\n>渐进符号\r\n\r\n|记号| 含义| 通俗理解|\r\n|-|-|\r\n|Θ（西塔）| 紧确界| 相当于”=”|\r\n|O （大欧）| 上界| 相当于”<=”|\r\n|o（小欧）| 非紧的上界| 相当于”<”|\r\n|Ω（大欧米伽） |下界| 相当于”>=”|\r\n|ω（小欧米伽）| 非紧的下界|相当于”>”|\r\n\r\n## 二. 复杂度分析\r\n### 1. 什么是复杂度分析？\r\n数据结构和算法解决是“如何让计算机更快时间、更省空间的解决问题”。因此需从执行时间和占用空间两个维度来评估数据结构和算法的性能。分别用时间复杂度和空间复杂度两个概念来描述性能问题，二者统称为复杂度。复杂度描述的是算法执行时间（或占用空间）与数据规模的增长关系。可以粗略地表示，越高阶复杂度的算法，执行效率越低。\r\n\r\n常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n2 )。\r\n\r\n![常见的复杂度](http://p0tymq1rr.bkt.clouddn.com/daily/181007/29BeCEjAmF.png)\r\n### 2. 为什么要进行复杂度分析？\r\n1.和性能测试相比，复杂度分析有不依赖执行环境、成本低、效率高、易操作、指导性强的特点。\r\n2.掌握复杂度分析，将能编写出性能更优的代码，有利于降低系统开发和维护成本。\r\n### 3. 如何进行复杂度分析？\r\n#### 大 O 表示法\r\n>示例\r\n\r\n从 CPU 的角度来看，这段代码的每一行都执行着类似的操作：读数据-运算-写数据。尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样，但是，我们这里只是粗略估计，所以可以假设每行代码执行的时间都一样，为 unit_time。在这个假设的基础之上，这两段代码的总执行时间是多少呢？\r\n\r\n```\r\n//估算一下这段代码的执行时间。\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  for (; i <= n; ++i) {\r\n    sum = sum + i;\r\n  }\r\n  return sum;\r\n}\r\n```\r\n\r\n第 2、3 行代码分别需要 1 个 unit_time 的执行时间，第 4、5 行都运行了 n 遍，所以需要 2n\\*unit_time 的执行时间，所以这段代码总的执行时间就是 (2n+2)\\*unit_time。\r\n\r\n```\r\n//估算一下这段代码的执行时间\r\nint cal(int n) {\r\n  int sum = 0;\r\n  int i = 1;\r\n  int j = 1;\r\n  for (; i <= n; ++i) {\r\n    j = 1;\r\n    for (; j <= n; ++j) {\r\n      sum = sum +  i * j;\r\n    }\r\n   }\r\n }\r\n```\r\n\r\n执行时间：$$T(n) = (2n^2+2n+3)\\*unit\\\\_time$$\r\n\r\n结合以上两个例子可以看出来：**所有代码的执行时间 T(n) 与每行代码的执行次数成正比**。\r\n\r\n我们可以把这个规律总结成一个公式，即，大 O 表示法：\r\n\r\n$$T(n) = O(f(n))$$\r\n\r\nT(n) 表示代码执行的时间；n 表示数据规模的大小；f(n) 表示每行代码执行的次数总和。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。\r\n\r\n所以，第一个例子中的 $$T(n) = O(2n+2)$$，第二个例子中的 $$T(n) = O(2n^2+2n+3)$$。这就是大 O 时间复杂度表示法。\r\n\r\n**大 O 时间复杂度**实际上并不具体表示代码真正的执行时间，而是**表示代码执行时间随数据规模增长的变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称**时间复杂度**。\r\n\r\n当 n 很大时，你可以把它想象成 10000、100000。而**公式中的低阶、常量、系数三部分并不左右增长趋势**，所以都可以忽略。我们**只需要记录一个最大量级**就可以了。\r\n\r\n如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：$$T(n) = O(n)$$； $$T(n) = O(n^2)$$。\r\n\r\n#### 如何分析一段代码的时间复杂度？\r\n\r\n1. 只关注循环执行次数最多的一段代码\r\n2. 加法法则：总复杂度等于量级最大的那段代码的复杂度\r\n3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积\r\n\r\n#### 常见的复杂度量级\r\n\r\n![常见的复杂度量级](http://p0tymq1rr.bkt.clouddn.com/daily/181007/3CmEAm6d1d.png)\r\n\r\n对于刚罗列的复杂度量级，可以粗略地分为两类，**多项式量级**和**非多项式量级**。其中，非多项式量级只有两个：$$O(2^n)$$ 和 $$O(n!)$$。\r\n\r\n我们把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。\r\n\r\n当数据规模 n 越来越大时，非多项式量级算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，**非多项式时间复杂度的算法其实是非常低效的算法**。因此，关于 NP 时间复杂度我就不展开讲了。我们主要来看几种常见的多项式时间复杂度。\r\n\r\n#### 常见的多项式时间复杂度\r\n\r\n>1.O(1)\r\n\r\n首先你必须明确一个概念，O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。比如这段代码，即便有 3 行，它的时间复杂度也是 O(1），而不是 O(3)。\r\n```\r\nint i = 8;\r\nint j = 6\r\nint sum = i + j;\r\n```\r\n我稍微总结一下，**只要代码的执行时间不随 n 的增大而增长，这样代码的时间复杂度我们都记作 O(1)**。或者说，**一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)**。\r\n\r\n>2.O(logn)、O(nlogn)\r\n\r\n```\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 2;\r\n}\r\n```\r\n根据我们前面讲的复杂度分析方法，第三行代码是循环执行次数最多的。所以，我们只要能计算出这行代码被执行了多少次，就能知道整段代码的时间复杂度。\r\n\r\n从代码中可以看出，变量 i 的值从 1 开始取，每循环一次就乘以 2。当大于 n 时，循环结束。还记得我们高中学过的等比数列吗？实际上，变量 i 的取值就是一个等比数列。如果我把它一个一个列出来，就应该是这个样子的：\r\n\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181007/8FJcBja6lK.png)\r\n\r\n即 $$2^x=n$$，所以，我们只要知道 x 值是多少，就知道这行代码执行的次数了。\r\n\r\n利用换底公式得：$$x=log_2n$$。\r\n\r\n所以，这段代码的时间复杂度就是 $$T(n) = O(log_2n)$$。\r\n\r\n```\r\n//这段代码的时间复杂度是多少？\r\ni=1;\r\nwhile (i <= n)  {\r\n  i = i * 3;\r\n}\r\n```\r\n $$O(log_3n)$$\r\n\r\n实际上，不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 $$O(logn)$$。为什么呢？\r\n\r\n我们知道，对数之间是可以互相转换的，$$log_3n$$ 就等于 $$log_32 \\* log_2n$$，所以 $$O(log_3n) = O(C * log_2n)$$，其中 $$C=log_32$$ 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 $$O(Cf(n)) = O(f(n))$$。所以，$$O(log_2n)$$ 就等于 $$O(log_3n)$$。\r\n\r\n因此，**在对数阶时间复杂度的表示方法里，我们忽略对数的“底”**，统一表示为 $$O(logn)$$ 。\r\n\r\n如果你理解了我前面讲的 $$O(logn)$$，那 $$O(nlogn)$$ 就很容易理解了。还记得我们刚讲的乘法法则吗？如果一段代码的时间复杂度是 $$O(logn)$$，我们循环执行 n 遍，时间复杂度就是 $$O(nlogn)$$ 了。而且，$$O(nlogn)$$ 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 $$O(nlogn)$$。\r\n\r\n>3.O(m+n)、O(m*n)\r\n\r\n```\r\nint cal(int m, int n) {\r\n  int sum_1 = 0;\r\n  int i = 1;\r\n  for (; i < m; ++i) {\r\n    sum_1 = sum_1 + i;\r\n  }\r\n\r\n  int sum_2 = 0;\r\n  int j = 1;\r\n  for (; j < n; ++j) {\r\n    sum_2 = sum_2 + j;\r\n  }\r\n\r\n  return sum_1 + sum_2;\r\n}\r\n```\r\n从代码中可以看出，m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。\r\n\r\n针对这种情况，原来的加法法则就不正确了，我们需要将加法规则改为：T1(m) + T2(n) = O(f(m) + g(n))。但是乘法法则继续有效：T1(m)\\*T2(n) = O(f(m) * f(n))。\r\n\r\n#### 空间复杂度分析\r\n\r\n空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。\r\n\r\n>示例\r\n\r\n```\r\nvoid print(int n) {\r\n int i = 0;\r\n int[] a = new int[n];\r\n for (i; i <n; ++i) {\r\n   a[i] = i * i;\r\n }\r\n\r\n for (i = n-1; i >= 0; --i) {\r\n   print out a[i]\r\n }\r\n}\r\n```\r\n\r\n跟时间复杂度分析一样，我们可以看到，第 2 行代码中，我们申请了一个空间存储变量 i，但是它是常量阶的，跟数据规模 n 没有关系，所以我们可以忽略。第 3 行申请了一个大小为 n 的 int 类型数组，除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度就是 O(n)。\r\n\r\n我们常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn) 这样的对数阶复杂度平时都用不到。而且，空间复杂度分析比时间复杂度分析要简单很多。所以，对于空间复杂度，掌握刚我说的这些内容已经足够了。\r\n## 三. 最好、最坏、平均、均摊时间复杂度\r\n```\r\n// n 表示数组 array 的长度\r\nint find(int[] array, int n, int x) {\r\n  int pos = -1;\r\n  for (int i = 0; i < n; ++i) {\r\n    if (array[i] == x) {\r\n       pos = i;\r\n       break;\r\n    }\r\n  }\r\n  return pos;\r\n}\r\n```\r\n### 最好情况时间复杂度\r\n $$O(1)$$\r\n### 最坏情况时间复杂度\r\n $$O(n)$$\r\n### 平均情况时间复杂度\r\n $$O(n)$$\r\n#### 不算概率\r\n每种情况下，查找需要遍历的元素个数累加，然后再除以 n+1，就可以得到需要遍历的元素个数的平均值。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/CHIea12JGk.png)\r\n在每种情况下，查找需要遍历的元素个数累加： 1+2+3+...+n+n\r\n要查找的变量 x 在数组中的位置，有 n+1 种情况：在数组的 0～n-1 位置中和不在数组中。\r\n#### 算概率(加权平均时间复杂度/期望时间复杂度)\r\n假设在数组中与不在数组中的概率都为 1/2。另外，要查找的数据出现在 0～n-1 这 n 个位置的概率也是一样的，为 1/n。所以，根据概率乘法法则，要查找的数据出现在 0～n-1 中任意位置的概率就是 1/(2n)。\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/1ahmKk1mD6.png)\r\n### 均摊时间复杂度\r\n假设前 n 个操作复杂度都是O(1)，第 n+1 次操作的复杂度是O(n)，所以把最后一次的复杂度分摊到前 n 次上，那么均摊下来每次操作的复杂度为 O(1)\r\n\r\n在分析时间复杂度是O(1)还是O(n)的时候最简单就是凭感觉，出现O(1)的次数远大于出现O(n)出现的次数，那么平均平摊时间复杂度就是O(1)。',`groups`='Algorithm',`is_show`=0,`publish`=1,`summary`='20 个最常用的、最基础数据结构与算法，入门包含了推荐书单，简介和复杂度分析'  WHERE  `id` = 210 [ RunTime:0.001069s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001830s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=2  WHERE  `groups` = 'Algorithm' [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Algorithm' LIMIT 1 [ RunTime:0.001674s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=2  WHERE  `groups` = 'Algorithm' [ RunTime:0.000506s ]
---------------------------------------------------------------
[ 2018-10-26T12:18:46+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/210.html
[ info ] qingrang.top/daily/admin/note/shownote/id/210.html [运行时间：0.054849s][吞吐率：18.23req/s] [内存消耗：1,991.66kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editNote/id/210',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '210',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000627s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001382s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 210 LIMIT 1 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000877s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000283s ]
---------------------------------------------------------------
[ 2018-10-26T12:19:33+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.072876s][吞吐率：13.72req/s] [内存消耗：2,199.58kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000584s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001297s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.001725s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000489s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000963s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000442s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001111s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000323s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000603s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001103s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001202s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000627s ]
---------------------------------------------------------------
[ 2018-10-26T12:38:10+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.080587s][吞吐率：12.41req/s] [内存消耗：2,199.58kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000711s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.002522s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.002612s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000725s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001690s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000654s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001467s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000542s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000752s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000376s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001065s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001177s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000634s ]
---------------------------------------------------------------
[ 2018-10-26T12:39:35+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/ashownote1.html
[ info ] qingrang.top/daily/admin/note/ashownote1.html [运行时间：0.051565s][吞吐率：19.39req/s] [内存消耗：2,427.87kb] [文件加载：53]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'ashownote1',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '11',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://qingrang.top',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'groupsID' => '21',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->aShowNote1[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000566s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001447s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `p_id` = 21  AND `id` > 2 ORDER BY date desc [ RunTime:0.002148s ]
---------------------------------------------------------------
[ 2018-10-26T12:39:44+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/86
[ info ] qingrang.top/daily/admin/note/shownote/id/86 [运行时间：0.056593s][吞吐率：17.67req/s] [内存消耗：2,016.49kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '86',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000544s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001411s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 86 LIMIT 1 [ RunTime:0.000640s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000306s ]
---------------------------------------------------------------
[ 2018-10-26T12:40:11+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.071504s][吞吐率：13.99req/s] [内存消耗：2,199.58kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000542s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001512s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.001740s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000483s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000419s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000295s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000391s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000341s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000384s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001085s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000228s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001027s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000715s ]
---------------------------------------------------------------
[ 2018-10-26T12:50:12+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/212.html
[ info ] qingrang.top/daily/admin/note/shownote/id/212.html [运行时间：0.056070s][吞吐率：17.83req/s] [内存消耗：2,032.00kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=29c1ajfa2phrplgjs1v8ocai81',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '212',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000564s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001561s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 212 LIMIT 1 [ RunTime:0.000603s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000921s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000294s ]
---------------------------------------------------------------
[ 2018-10-26T13:08:05+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/login/index.html
[ info ] qingrang.top/daily/admin/login/index.html [运行时间：0.061970s][吞吐率：16.14req/s] [内存消耗：1,339.90kb] [文件加载：47]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Login->index[ /var/www/html/daily/application/admin/controller/Login.php ]
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/login/index.html [ array (
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-10-26T15:45:51+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.052363s][吞吐率：19.10req/s] [内存消耗：1,428.40kb] [文件加载：49]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ VIEW ] /var/www/html/daily/thinkphp/tpl/dispatch_jump.tpl [ array (
  0 => 'code',
  1 => 'msg',
  2 => 'data',
  3 => 'url',
  4 => 'wait',
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-10-26T15:45:54+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/login/index.html
[ info ] qingrang.top/daily/admin/login/index.html [运行时间：0.045010s][吞吐率：22.22req/s] [内存消耗：1,340.77kb] [文件加载：47]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=lk0q1fh5vcbbctulg2r1jpg377',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Login->index[ /var/www/html/daily/application/admin/controller/Login.php ]
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/login/index.html [ array (
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-10-26T15:46:08+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/login/index.html
[ info ] qingrang.top/daily/admin/login/index.html [运行时间：0.061176s][吞吐率：16.35req/s] [内存消耗：1,922.37kb] [文件加载：54]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '8',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/login/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=lk0q1fh5vcbbctulg2r1jpg377',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'pwd' => 'shao',
)
[ info ] [ RUN ] app\admin\controller\Login->index[ /var/www/html/daily/application/admin/controller/Login.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001513s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002591s ]
[ sql ] [ SQL ] SELECT * FROM `admin` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000605s ]
---------------------------------------------------------------
[ 2018-10-26T15:46:12+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.081699s][吞吐率：12.24req/s] [内存消耗：2,200.28kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/login/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=lk0q1fh5vcbbctulg2r1jpg377',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000700s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001768s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.003192s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000682s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001128s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000365s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000538s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001187s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000380s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000386s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001444s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001478s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000786s ]
---------------------------------------------------------------
[ 2018-10-26T15:48:00+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/212.html
[ info ] qingrang.top/daily/admin/note/shownote/id/212.html [运行时间：0.098724s][吞吐率：10.13req/s] [内存消耗：2,032.00kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=lk0q1fh5vcbbctulg2r1jpg377',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '212',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000805s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.002058s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 212 LIMIT 1 [ RunTime:0.000822s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001270s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000429s ]
---------------------------------------------------------------
[ 2018-10-26T17:43:14+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.049726s][吞吐率：20.11req/s] [内存消耗：1,428.40kb] [文件加载：49]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ VIEW ] /var/www/html/daily/thinkphp/tpl/dispatch_jump.tpl [ array (
  0 => 'code',
  1 => 'msg',
  2 => 'data',
  3 => 'url',
  4 => 'wait',
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-10-26T17:43:17+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/login/index.html
[ info ] qingrang.top/daily/admin/login/index.html [运行时间：0.041304s][吞吐率：24.21req/s] [内存消耗：1,340.77kb] [文件加载：47]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=ir891da9lmshv8r274j8ab6555',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Login->index[ /var/www/html/daily/application/admin/controller/Login.php ]
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/login/index.html [ array (
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-10-26T17:43:21+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/login/index.html
[ info ] qingrang.top/daily/admin/login/index.html [运行时间：0.060582s][吞吐率：16.51req/s] [内存消耗：1,922.37kb] [文件加载：54]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '8',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/login/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=ir891da9lmshv8r274j8ab6555',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'pwd' => 'shao',
)
[ info ] [ RUN ] app\admin\controller\Login->index[ /var/www/html/daily/application/admin/controller/Login.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000882s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002419s ]
[ sql ] [ SQL ] SELECT * FROM `admin` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000537s ]
---------------------------------------------------------------
[ 2018-10-26T17:43:22+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.085394s][吞吐率：11.71req/s] [内存消耗：2,200.28kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/login/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=ir891da9lmshv8r274j8ab6555',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000514s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001412s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.002663s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000602s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001501s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000408s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001026s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000322s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000422s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000403s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000408s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001371s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001119s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000893s ]
---------------------------------------------------------------
[ 2018-10-26T19:37:06+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.125571s][吞吐率：7.96req/s] [内存消耗：2,200.00kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/login/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=ir891da9lmshv8r274j8ab6555',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000966s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.002467s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.004156s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000786s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001403s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000407s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000604s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001407s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000455s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000594s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000391s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001807s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001491s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.001853s ]
---------------------------------------------------------------
[ 2018-10-26T19:37:13+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.090213s][吞吐率：11.08req/s] [内存消耗：2,199.58kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=ir891da9lmshv8r274j8ab6555',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000773s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001962s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.001782s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000561s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001130s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000464s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000576s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001410s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000356s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000421s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001467s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000250s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001911s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000751s ]
---------------------------------------------------------------
[ 2018-10-26T20:33:16+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/login/index.html
[ info ] qingrang.top/daily/admin/login/index.html [运行时间：0.045320s][吞吐率：22.07req/s] [内存消耗：1,339.90kb] [文件加载：47]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Login->index[ /var/www/html/daily/application/admin/controller/Login.php ]
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/login/index.html [ array (
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-10-26T20:42:51+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.043149s][吞吐率：23.18req/s] [内存消耗：1,428.40kb] [文件加载：49]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ VIEW ] /var/www/html/daily/thinkphp/tpl/dispatch_jump.tpl [ array (
  0 => 'code',
  1 => 'msg',
  2 => 'data',
  3 => 'url',
  4 => 'wait',
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-10-26T20:42:53+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/login/index.html
[ info ] qingrang.top/daily/admin/login/index.html [运行时间：0.041403s][吞吐率：24.15req/s] [内存消耗：1,340.77kb] [文件加载：47]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Login->index[ /var/www/html/daily/application/admin/controller/Login.php ]
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/login/index.html [ array (
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-10-26T20:43:00+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/login/index.html
[ info ] qingrang.top/daily/admin/login/index.html [运行时间：0.091675s][吞吐率：10.91req/s] [内存消耗：1,922.37kb] [文件加载：54]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '8',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/login/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'pwd' => 'shao',
)
[ info ] [ RUN ] app\admin\controller\Login->index[ /var/www/html/daily/application/admin/controller/Login.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001836s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003596s ]
[ sql ] [ SQL ] SELECT * FROM `admin` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000777s ]
---------------------------------------------------------------
[ 2018-10-26T20:43:00+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.080945s][吞吐率：12.35req/s] [内存消耗：2,200.28kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/login/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000651s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001476s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.002900s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000577s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000998s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000353s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000986s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000306s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000457s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000371s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001301s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001200s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000702s ]
---------------------------------------------------------------
[ 2018-10-26T20:43:03+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/newedit.html
[ info ] qingrang.top/daily/admin/note/newedit.html [运行时间：0.058950s][吞吐率：16.96req/s] [内存消耗：2,020.94kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'newedit',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->newEdit[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/newedit.html [ array (
  0 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000643s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001279s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000321s ]
---------------------------------------------------------------
[ 2018-10-26T20:43:53+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/savenote.html
[ info ] qingrang.top/daily/admin/note/savenote.html [运行时间：0.069489s][吞吐率：14.39req/s] [内存消耗：2,023.45kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'savenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '531',
  'accept' => 'text/plain, */*; q=0.01',
  'origin' => 'http://qingrang.top',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://qingrang.top/daily/admin/note/newedit.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'ogroup' => 'Default',
  'context' => '# Java - SpringMVC
## 找不到类 org.springframework.web.servlet.DispatcherServlet
还要把依赖都加进classpath下。步骤：

项目右击-->properties-->Deployment Assembly-->add-->Java Build Path Entries-->导入所有依赖的Jar包，重新start tomcat即可。',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->saveNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000702s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001829s ]
[ sql ] [ SQL ] UPDATE `note`  SET `title`='Java - SpringMVC',`content`='# Java - SpringMVC\n## 找不到类 org.springframework.web.servlet.DispatcherServlet\n还要把依赖都加进classpath下。步骤：\n\n项目右击-->properties-->Deployment Assembly-->add-->Java Build Path Entries-->导入所有依赖的Jar包，重新start tomcat即可。',`groups`='Default',`p_id`=1  WHERE  `id` = 1 [ RunTime:0.000693s ]
---------------------------------------------------------------
[ 2018-10-26T20:49:18+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/addnote.html
[ info ] qingrang.top/daily/admin/note/addnote.html [运行时间：0.060366s][吞吐率：16.57req/s] [内存消耗：1,983.17kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'addnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '2951',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/newedit.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'groups' => 'Java',
  'content' => '# Java - SpringMVC
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/JJ4DCj1fH6.png)
## 导入包 并把依赖加进 classpath
先导包然后，项目右击-->properties-->Deployment Assembly-->add-->Java Build Path Entries-->导入所有依赖的 Jar 包
## web.xml
## springmvc-servlet.xml
## 控制类 IndexController
## index.jsp
## 部署在 tomcat 中，测试',
  'test-editormd-html-code' => '<h1 id="h1-java-springmvc"><a name="Java - SpringMVC" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Java - SpringMVC</h1><p><img src="http://p0tymq1rr.bkt.clouddn.com/daily/181026/JJ4DCj1fH6.png" alt="mark"></p>
<h2 id="h2--classpath"><a name="导入包 并把依赖加进 classpath" class="reference-link"></a><span class="header-link octicon octicon-link"></span>导入包 并把依赖加进 classpath</h2><p>先导包然后，项目右击—&gt;properties—&gt;Deployment Assembly—&gt;add—&gt;Java Build Path Entries—&gt;导入所有依赖的 Jar 包</p>
<h2 id="h2-web-xml"><a name="web.xml" class="reference-link"></a><span class="header-link octicon octicon-link"></span>web.xml</h2><h2 id="h2-springmvc-servlet-xml"><a name="springmvc-servlet.xml" class="reference-link"></a><span class="header-link octicon octicon-link"></span>springmvc-servlet.xml</h2><h2 id="h2--indexcontroller"><a name="控制类 IndexController" class="reference-link"></a><span class="header-link octicon octicon-link"></span>控制类 IndexController</h2><h2 id="h2-index-jsp"><a name="index.jsp" class="reference-link"></a><span class="header-link octicon octicon-link"></span>index.jsp</h2><h2 id="h2--tomcat-"><a name="部署在 tomcat 中，测试" class="reference-link"></a><span class="header-link octicon octicon-link"></span>部署在 tomcat 中，测试</h2>',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->addNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000683s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.002167s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Java' LIMIT 1 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001117s ]
[ sql ] [ SQL ] INSERT INTO `note` (`title` , `content` , `groups` , `p_id` , `date`) VALUES ('Java - SpringMVC\r' , '# Java - SpringMVC\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/JJ4DCj1fH6.png)\r\n## 导入包 并把依赖加进 classpath\r\n先导包然后，项目右击-->properties-->Deployment Assembly-->add-->Java Build Path Entries-->导入所有依赖的 Jar 包\r\n## web.xml\r\n## springmvc-servlet.xml\r\n## 控制类 IndexController\r\n## index.jsp\r\n## 部署在 tomcat 中，测试' , 'Java' , 2 , '2018-10-26') [ RunTime:0.000433s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Java' LIMIT 1 [ RunTime:0.001111s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=10  WHERE  `groups` = 'Java' [ RunTime:0.000422s ]
---------------------------------------------------------------
[ 2018-10-26T20:49:19+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.082152s][吞吐率：12.17req/s] [内存消耗：2,178.92kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/newedit.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000644s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001742s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.002392s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000590s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001174s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000413s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000415s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001297s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000352s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000405s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000358s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001101s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000221s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001228s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000643s ]
---------------------------------------------------------------
[ 2018-10-26T20:49:28+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editnote/id/231.html
[ info ] qingrang.top/daily/admin/note/editnote/id/231.html [运行时间：0.052972s][吞吐率：18.88req/s] [内存消耗：2,028.32kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '231',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000611s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001763s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 231 LIMIT 1 [ RunTime:0.000415s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000904s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000277s ]
---------------------------------------------------------------
[ 2018-10-26T20:49:41+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/updatenote/id/231.html
[ info ] qingrang.top/daily/admin/note/updatenote/id/231.html [运行时间：0.067536s][吞吐率：14.81req/s] [内存消耗：2,049.67kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'updatenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '759',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/231.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'summary' => '',
  'content' => '# Java 框架 - SpringMVC
![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/JJ4DCj1fH6.png)
## 导入包 并把依赖加进 classpath
先导包然后，项目右击-->properties-->Deployment Assembly-->add-->Java Build Path Entries-->导入所有依赖的 Jar 包
## web.xml
## springmvc-servlet.xml
## 控制类 IndexController
## index.jsp
## 部署在 tomcat 中，测试',
  'groups' => 'Java',
  'showsel' => '0',
  'showse2' => '0',
  'id' => '231',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->updateNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000642s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001430s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 231 LIMIT 1 [ RunTime:0.000401s ]
[ sql ] [ SQL ] SELECT `groups` FROM `note` WHERE  `id` = 231 LIMIT 1 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Java' LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000343s ]
[ sql ] [ SQL ] UPDATE `note`  SET `id`=231,`p_id`=2,`title`='Java 框架 - SpringMVC\r',`content`='# Java 框架 - SpringMVC\r\n![mark](http://p0tymq1rr.bkt.clouddn.com/daily/181026/JJ4DCj1fH6.png)\r\n## 导入包 并把依赖加进 classpath\r\n先导包然后，项目右击-->properties-->Deployment Assembly-->add-->Java Build Path Entries-->导入所有依赖的 Jar 包\r\n## web.xml\r\n## springmvc-servlet.xml\r\n## 控制类 IndexController\r\n## index.jsp\r\n## 部署在 tomcat 中，测试',`groups`='Java',`is_show`=0,`publish`=0,`summary`=''  WHERE  `id` = 231 [ RunTime:0.000634s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Java' LIMIT 1 [ RunTime:0.001425s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=10  WHERE  `groups` = 'Java' [ RunTime:0.000390s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Java' LIMIT 1 [ RunTime:0.001428s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=10  WHERE  `groups` = 'Java' [ RunTime:0.000397s ]
---------------------------------------------------------------
[ 2018-10-26T20:49:42+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/231.html
[ info ] qingrang.top/daily/admin/note/shownote/id/231.html [运行时间：0.051725s][吞吐率：19.33req/s] [内存消耗：1,980.16kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editnote/id/231.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '231',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000568s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001322s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 231 LIMIT 1 [ RunTime:0.000443s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000928s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000334s ]
---------------------------------------------------------------
[ 2018-10-26T21:34:16+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.101034s][吞吐率：9.90req/s] [内存消耗：2,178.25kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000744s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.002060s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.002790s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000692s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001621s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000699s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001464s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000685s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000679s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.002026s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000411s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001701s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.001010s ]
---------------------------------------------------------------
[ 2018-10-26T21:34:22+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/newedit.html
[ info ] qingrang.top/daily/admin/note/newedit.html [运行时间：0.059690s][吞吐率：16.75req/s] [内存消耗：2,020.94kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'newedit',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->newEdit[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/newedit.html [ array (
  0 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000613s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001396s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000322s ]
---------------------------------------------------------------
[ 2018-10-26T21:34:57+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/addnote.html
[ info ] qingrang.top/daily/admin/note/addnote.html [运行时间：0.067131s][吞吐率：14.90req/s] [内存消耗：1,976.37kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'addnote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '324',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/newedit.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'groups' => 'Java',
  'content' => '# Java 框架 - Mybatis',
  'test-editormd-html-code' => '<h1 id="h1-java-mybatis"><a name="Java 框架 - Mybatis" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Java 框架 - Mybatis</h1>',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->addNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000674s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001836s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Java' LIMIT 1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000402s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001146s ]
[ sql ] [ SQL ] INSERT INTO `note` (`title` , `content` , `groups` , `p_id` , `date`) VALUES ('Java 框架 - Mybatis' , '# Java 框架 - Mybatis' , 'Java' , 2 , '2018-10-26') [ RunTime:0.000373s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Java' LIMIT 1 [ RunTime:0.001115s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=11  WHERE  `groups` = 'Java' [ RunTime:0.000427s ]
---------------------------------------------------------------
[ 2018-10-26T21:34:57+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.082740s][吞吐率：12.09req/s] [内存消耗：2,178.09kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/newedit.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000426s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001259s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.001572s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000414s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001134s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000423s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000551s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001120s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000305s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000412s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000354s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001130s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000224s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001036s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000576s ]
---------------------------------------------------------------
[ 2018-10-26T21:35:03+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/ashownote2.html
[ info ] qingrang.top/daily/admin/note/ashownote2.html [运行时间：0.064170s][吞吐率：15.58req/s] [内存消耗：2,287.93kb] [文件加载：52]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'ashownote2',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '14',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://qingrang.top',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'groupname' => 'Java',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->aShowNote2[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000623s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001950s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` = 'Java' ORDER BY date desc [ RunTime:0.002467s ]
---------------------------------------------------------------
[ 2018-10-26T21:57:33+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/editNote/id/232
[ info ] qingrang.top/daily/admin/note/editNote/id/232 [运行时间：0.056973s][吞吐率：17.55req/s] [内存消耗：2,027.89kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'editNote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '232',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->editNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/editnote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000538s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001471s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 232 LIMIT 1 [ RunTime:0.000458s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000929s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000783s ]
---------------------------------------------------------------
[ 2018-10-26T22:31:33+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/updatenote/id/232.html
[ info ] qingrang.top/daily/admin/note/updatenote/id/232.html [运行时间：0.066887s][吞吐率：14.95req/s] [内存消耗：2,047.76kb] [文件加载：58]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'updatenote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '206',
  'cache-control' => 'max-age=0',
  'origin' => 'http://qingrang.top',
  'upgrade-insecure-requests' => '1',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editNote/id/232',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'summary' => '',
  'content' => '# Java 框架 - Mybatis
![原理图](http://p0tymq1rr.bkt.clouddn.com/daily/181026/B5G3lA8d1A.png)',
  'groups' => 'Java',
  'showsel' => '0',
  'showse2' => '0',
  'id' => '232',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->updateNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000642s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001600s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 232 LIMIT 1 [ RunTime:0.000405s ]
[ sql ] [ SQL ] SELECT `groups` FROM `note` WHERE  `id` = 232 LIMIT 1 [ RunTime:0.000367s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000965s ]
[ sql ] [ SQL ] SELECT `parent_id` FROM `groups` WHERE  `groups` = 'Java' LIMIT 1 [ RunTime:0.000314s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000308s ]
[ sql ] [ SQL ] UPDATE `note`  SET `id`=232,`p_id`=2,`title`='Java 框架 - Mybatis\r',`content`='# Java 框架 - Mybatis\r\n![原理图](http://p0tymq1rr.bkt.clouddn.com/daily/181026/B5G3lA8d1A.png)',`groups`='Java',`is_show`=0,`publish`=0,`summary`=''  WHERE  `id` = 232 [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Java' LIMIT 1 [ RunTime:0.001192s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=11  WHERE  `groups` = 'Java' [ RunTime:0.000334s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Java' LIMIT 1 [ RunTime:0.000963s ]
[ sql ] [ SQL ] UPDATE `groups`  SET `g_count`=11  WHERE  `groups` = 'Java' [ RunTime:0.000316s ]
---------------------------------------------------------------
[ 2018-10-26T22:31:34+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note/shownote/id/232.html
[ info ] qingrang.top/daily/admin/note/shownote/id/232.html [运行时间：0.065891s][吞吐率：15.18req/s] [内存消耗：1,980.08kb] [文件加载：55]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'shownote',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://qingrang.top/daily/admin/note/editNote/id/232',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'id' => '232',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->showNote[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/shownote.html [ array (
  0 => 'note',
  1 => 'groups',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000515s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001586s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` = 232 LIMIT 1 [ RunTime:0.000473s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.001122s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000339s ]
---------------------------------------------------------------
[ 2018-10-26T22:31:49+08:00 ] 74.120.168.12 74.120.168.12 GET /daily/admin/note
[ info ] qingrang.top/daily/admin/note [运行时间：0.069660s][吞吐率：14.36req/s] [内存消耗：2,177.50kb] [文件加载：56]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => NULL,
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->notelst[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /var/www/html/daily/application/admin/view/note/notelst.html [ array (
  0 => 'stickList',
  1 => 'hide',
  2 => 'list',
  3 => 'list_new',
  4 => 'groups',
  5 => 'groups0',
  6 => 'groups1',
  7 => 'groups2',
  8 => 'count',
  9 => 'year',
  10 => 'default_num',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000493s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.001450s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal'  AND `is_show` = 1 ORDER BY date desc,id desc [ RunTime:0.001694s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` <> 'Personal' ORDER BY id desc LIMIT 5 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001055s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `name` = 'hide' LIMIT 1 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `id` < 5 [ RunTime:0.000380s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `groups` [ RunTime:0.000880s ]
[ sql ] [ SQL ] SELECT * FROM `groups` [ RunTime:0.000313s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 0  AND `id` <> 2 ORDER BY `groups` [ RunTime:0.000442s ]
[ sql ] [ SQL ] SELECT `groups` FROM `groups` WHERE  `parent_id` = 1 [ RunTime:0.000414s ]
[ sql ] [ SQL ] SELECT * FROM `groups` WHERE  `parent_id` = 2 ORDER BY `groups` [ RunTime:0.000448s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` WHERE  `groups` = 'Default' LIMIT 1 [ RunTime:0.001099s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `note` LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `yearlist` [ RunTime:0.001075s ]
[ sql ] [ SQL ] SELECT DISTINCT  `year` FROM `yearlist` ORDER BY year desc [ RunTime:0.000646s ]
---------------------------------------------------------------
[ 2018-10-26T22:31:54+08:00 ] 74.120.168.12 74.120.168.12 POST /daily/admin/note/ashownote2.html
[ info ] qingrang.top/daily/admin/note/ashownote2.html [运行时间：0.056895s][吞吐率：17.58req/s] [内存消耗：2,288.04kb] [文件加载：52]
[ info ] [ LANG ] /var/www/html/daily/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'note',
    2 => 'ashownote2',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'qingrang.top',
  'content-length' => '14',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://qingrang.top',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded',
  'referer' => 'http://qingrang.top/daily/admin/note',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9,la;q=0.8,en;q=0.7,lb;q=0.6',
  'cookie' => 'Hm_lvt_1769181352e9adc950166aada465644e=1539846308,1540133692,1540187497,1540387796; PHPSESSID=fa2c4993iutc6csbfk6tqgcgp3',
  'connection' => 'close',
)
[ info ] [ PARAM ] array (
  'groupname' => 'Java',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Note->aShowNote2[ /var/www/html/daily/application/admin/controller/Note.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000447s ] mysql:host=74.120.168.12;dbname=diary;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `note` [ RunTime:0.002032s ]
[ sql ] [ SQL ] SELECT * FROM `note` WHERE  `groups` = 'Java' ORDER BY date desc [ RunTime:0.001621s ]
